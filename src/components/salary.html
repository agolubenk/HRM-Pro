<!DOCTYPE html>
<html lang="ru" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRM System - –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <style>
        body {
            background: #f7f9fb;
        }
        .salary-sidebar {
            min-width: 200px;
            max-width: 240px;
            background: #fff;
            border-radius: 14px 0 0 14px;
            box-shadow: 0 2px 16px 0 rgba(60,72,88,0.07);
            padding: 14px 0 14px 0;
            position: sticky;
            top: 105px;
            z-index: 2;
            margin-right: 0;
            border-right: 1px solid #f0f1f3;
            transition: box-shadow 0.18s, background 0.18s, border-color 0.18s;
        }
        .salary-sidebar .list-group-item {
            border: none;
            background: none;
            font-size: 1.08rem;
            color: #222;
            border-radius: 0 16px 16px 0;
            margin-bottom: 2px;
            padding: 12px 22px 12px 22px;
            transition: background 0.18s, color 0.18s, box-shadow 0.18s;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .salary-sidebar .list-group-item.active {
            background: linear-gradient(90deg, #e3f0ff 60%, #f9fafb 100%);
            color: #1976f8;
            box-shadow: 0 2px 8px 0 rgba(25,118,248,0.07);
            font-weight: 600;
            position: relative;
        }
        .salary-sidebar .list-group-item.active::before {
            content: '';
            position: absolute;
            left: 0; top: 8px; bottom: 8px;
            width: 4px;
            border-radius: 4px;
            background: #1976f8;
        }
        .salary-sidebar .list-group-item:focus,
        .salary-sidebar .list-group-item:hover {
            background: #f0f4fa;
            color: #1976f8;
        }
        @media (max-width: 991px) {
            .salary-sidebar { position: static; min-width: 100%; max-width: 100%; border-radius: 10px; margin-bottom: 12px; border-right: none; }
            .salary-sidebar .list-group-item { border-radius: 10px; padding: 10px 12px; }
        }
        .salary-main {
            background: #fff;
            border-radius: 0 14px 14px 0;
            box-shadow: 0 2px 16px 0 rgba(60,72,88,0.07);
            padding: 24px 18px 24px 18px;
            margin-bottom: 108px;
            min-height: calc(100vh - 235px);
            margin-left: 0;
            transition: box-shadow 0.18s, background 0.18s;
        }
        @media (max-width: 991px) {
            .salary-main { padding: 10px 2px; border-radius: 10px; min-height: calc(100vh - 190px); }
        }
        .container-fluid.salary-page {
            padding-top: 105px !important;
            padding-bottom: 0 !important;
        }
        @media (max-width: 991px) {
            .container-fluid.salary-page { padding-top: 105px !important; }
        }
        .salary-main h3 {
            font-size: 1.45rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .salary-main .card {
            border-radius: 12px;
            box-shadow: 0 1px 8px 0 rgba(60,72,88,0.06);
            border: none;
            margin-bottom: 1.5rem;
            background: #fff;
            transition: background 0.18s, box-shadow 0.18s;
        }
        .salary-main .card-header {
            background: #f7fafd;
            border-radius: 12px 12px 0 0;
            font-weight: 600;
            font-size: 1.08rem;
            padding: 12px 18px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background 0.18s, border-color 0.18s;
        }
        .salary-main .btn, .salary-main .btn-sm {
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            transition: background 0.15s, color 0.15s;
        }
        .salary-main .table {
            margin-bottom: 0;
            font-size: 1.04rem;
            border-radius: 0 0 12px 12px;
            overflow: hidden;
            background: #fff;
            transition: background 0.18s;
        }
        .salary-main .table th {
            background: #f7fafd;
            font-weight: 700;
            border-bottom: 1px solid #e5e7eb;
            transition: background 0.18s, border-color 0.18s;
        }
        .salary-main .table td {
            vertical-align: middle;
            border-bottom: 1px solid #f2f3f5;
            transition: border-color 0.18s;
        }
        .salary-main .table tr:last-child td {
            border-bottom: none;
        }
        .salary-main .btn-light {
            background: #f7fafd;
            color: #1976f8;
            border: none;
        }
        .salary-main .btn-light:hover {
            background: #e3f0ff;
            color: #1256b0;
        }
        /* --- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ --- */
        html[data-bs-theme="dark"] {
            body {
                background: #181c22;
            }
            .salary-sidebar {
                background: #23272f;
                box-shadow: 0 2px 16px 0 rgba(0,0,0,0.18);
                border-right: 1px solid #23272f;
            }
            .salary-sidebar .list-group-item {
                color: #e3e6eb;
                background: none;
            }
            .salary-sidebar .list-group-item.active {
                background: linear-gradient(90deg, #233a5e 60%, #23272f 100%);
                color: #6ea8fe;
                box-shadow: 0 2px 8px 0 rgba(25,118,248,0.10);
            }
            .salary-sidebar .list-group-item.active::before {
                background: #6ea8fe;
            }
            .salary-sidebar .list-group-item:focus,
            .salary-sidebar .list-group-item:hover {
                background: #232e3c;
                color: #6ea8fe;
            }
            .salary-main {
                background: #23272f;
                box-shadow: 0 2px 16px 0 rgba(0,0,0,0.18);
            }
            .salary-main h3 {
                color: #e3e6eb;
            }
            .salary-main .card {
                background: #23272f;
                box-shadow: 0 1px 8px 0 rgba(0,0,0,0.13);
            }
            .salary-main .card-header {
                background: #232e3c;
                border-bottom: 1px solid #23272f;
                color: #e3e6eb;
            }
            .salary-main .btn, .salary-main .btn-sm {
                background: #232e3c;
                color: #e3e6eb;
                border: 1px solid #343a40;
            }
            .salary-main .btn-light {
                background: #232e3c;
                color: #6ea8fe;
            }
            .salary-main .btn-light:hover {
                background: #233a5e;
                color: #fff;
            }
            .salary-main .table {
                background: #23272f;
                color: #e3e6eb;
            }
            .salary-main .table th {
                background: #232e3c;
                color: #e3e6eb;
                border-bottom: 1px solid #23272f;
            }
            .salary-main .table td {
                border-bottom: 1px solid #232e3c;
                color: #e3e6eb;
            }
        }
        .vacancy-back-btn {
          display: inline-flex;
          align-items: center;
          gap: 0.5em;
          font-size: 1.1rem;
          font-weight: 500;
          color: var(--bs-body-color, #fff);
          background: transparent;
          border: none;
          box-shadow: none;
          padding: 0.25em 0.8em 0.25em 0.8em; /* —É–º–µ–Ω—å—à–µ–Ω –ª–µ–≤—ã–π –æ—Ç—Å—Ç—É–ø */
          border-radius: 0.6em;
          transition: background 0.15s, color 0.15s;
          position: relative;
        }
        .vacancy-back-btn:hover, .vacancy-back-btn:focus {
          background: rgba(255,255,255,0.07);
          color: var(--bs-primary, #1976f8);
          text-decoration: none;
        }
        .vacancy-back-btn i {
          font-size: 1.1em;
          margin-right: 0.4em;
          margin-left: 0;
        }
        /* –ú–∏–Ω–∏-—Å—Ç–∏–ª—å –¥–ª—è –ø–æ–∏—Å–∫–∞ */
        .vacancy-search-input {
          max-width: 160px;
          min-width: 120px;
          height: 32px;
          font-size: 0.98rem;
          padding: 2px 8px;
        }
    </style>
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="#" class="logo">
                <i class="bi bi-hexagon-fill"></i>
                <span class="logo-text">HRM Pro</span>
            </a>
            
            <div class="quick-actions">
                <div class="search-container">
                    <i class="bi bi-search search-icon"></i>
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∑–∞–¥–∞—á..." id="globalSearch">
                    <span class="search-shortcut">Ctrl+K</span>
                </div>
                
                <button class="quick-action-btn d-md-none" onclick="openMobileSearch()">
                    <i class="bi bi-search"></i>
                </button>
                
                <button class="quick-action-btn" onclick="toggleQuickPanel()">
                    <i class="bi bi-lightning-charge"></i>
                </button>
                
                <button class="quick-action-btn" onclick="openNotifications()">
                    <i class="bi bi-bell"></i>
                    <span class="notification-badge">5</span>
                </button>
                
                <div class="dropdown">
                    <button class="quick-action-btn language-btn" data-bs-toggle="dropdown" aria-expanded="false" style="overflow: visible;">
                        <i class="bi bi-globe2"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end language-menu">
                        <li>
                            <a class="dropdown-item language-item active" href="#" onclick="changeLanguage('ru', event)">
                                <span class="language-flag">üá∑üá∫</span>
                                <span>–†—É—Å—Å–∫–∏–π</span>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item language-item" href="#" onclick="changeLanguage('en', event)">
                                <span class="language-flag">üá¨üáß</span>
                                <span>English</span>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item language-item" href="#" onclick="changeLanguage('kz', event)">
                                <span class="language-flag">üá∞üáø</span>
                                <span>“ö–∞–∑–∞“õ—à–∞</span>
                            </a>
                        </li>
                    </ul>
                </div>
                
                <button class="quick-action-btn" onclick="toggleTheme()">
                    <i class="bi bi-sun-fill" id="themeIcon"></i>
                </button>
                
                <div class="dropdown">
                    <button class="quick-action-btn" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li class="px-3 py-2">
                            <div class="fw-semibold">–ê–¥–º–∏–Ω –ò–≤–∞–Ω–æ–≤</div>
                            <small class="text-muted">admin@company.com</small>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="account/profile.html"><i class="bi bi-person me-2"></i>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a></li>
                        <li><a class="dropdown-item" href="account/settings.html"><i class="bi bi-gear me-2"></i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
                        <li><a class="dropdown-item" href="#"><i class="bi bi-question-circle me-2"></i>–ü–æ–º–æ—â—å</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="#"><i class="bi bi-box-arrow-right me-2"></i>–í—ã–π—Ç–∏</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- –ú–æ–±–∏–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ -->
            <div class="mobile-search-container" id="mobileSearchContainer">
                <input type="text" class="mobile-search-input" placeholder="–ü–æ–∏—Å–∫..." id="mobileSearchInput">
                <button class="mobile-search-close" onclick="closeMobileSearch()">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
        </div>
    </nav>
    
    <!-- –ü–æ–¥–º–µ–Ω—é –º–æ–¥—É–ª–µ–π -->
    <div class="module-submenu" id="moduleSubmenu">
        <div class="submenu-items" id="submenuItems">
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
        </div>
    </div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–∞–Ω–µ–ª–∏ -->
    <div class="panel-overlay" onclick="toggleQuickPanel()"></div>
    
    <!-- –ë—ã—Å—Ç—Ä–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="quick-panel" id="quickPanel">
        <!-- –ù–µ–¥–∞–≤–Ω–∏–µ -->
        <div class="collapsible-section">
            <div class="section-header" onclick="toggleSection('recent')">
                <h6 class="section-title">–ù–µ–¥–∞–≤–Ω–∏–µ</h6>
                <i class="bi bi-chevron-down section-toggle" id="recent-toggle"></i>
            </div>
            <div class="section-content" id="recent-content">
                <div class="d-flex flex-column gap-2">
                    <a href="#" class="action-card">
                        <div class="action-icon info">
                            <i class="bi bi-person"></i>
                        </div>
                        <div class="action-content">
                            <div class="action-title">–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤</div>
                            <div class="action-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω 5 –º–∏–Ω –Ω–∞–∑–∞–¥</div>
                        </div>
                    </a>
                    <a href="#" class="action-card">
                        <div class="action-icon success">
                            <i class="bi bi-file-text"></i>
                        </div>
                        <div class="action-content">
                            <div class="action-title">–û—Ç—á–µ—Ç –ø–æ KPI</div>
                            <div class="action-desc">–ò–∑–º–µ–Ω–µ–Ω —á–∞—Å –Ω–∞–∑–∞–¥</div>
                        </div>
                    </a>
                    <a href="#" class="action-card">
                        <div class="action-icon warning">
                            <i class="bi bi-calendar"></i>
                        </div>
                        <div class="action-content">
                            <div class="action-title">–ì—Ä–∞—Ñ–∏–∫ –æ—Ç–ø—É—Å–∫–æ–≤</div>
                            <div class="action-desc">–û–±–Ω–æ–≤–ª–µ–Ω —Å–µ–≥–æ–¥–Ω—è</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ -->
        <div class="collapsible-section">
            <div class="section-header" onclick="toggleSection('favorites')">
                <h6 class="section-title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h6>
                <i class="bi bi-chevron-down section-toggle" id="favorites-toggle"></i>
            </div>
            <div class="section-content" id="favorites-content">
                <div class="d-flex flex-column gap-1">
                    <a href="#" class="favorite-item">
                        <i class="bi bi-star-fill text-warning"></i>
                        <span>–¢–∞–±–µ–ª—å —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏</span>
                    </a>
                    <a href="#" class="favorite-item">
                        <i class="bi bi-star-fill text-warning"></i>
                        <span>–ó–∞—è–≤–∫–∏ –Ω–∞ –æ—Ç–ø—É—Å–∫</span>
                    </a>
                    <a href="#" class="favorite-item">
                        <i class="bi bi-star-fill text-warning"></i>
                        <span>–ì—Ä–∞—Ñ–∏–∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π</span>
                    </a>
                    <a href="#" class="favorite-item">
                        <i class="bi bi-star-fill text-warning"></i>
                        <span>–®—Ç–∞—Ç–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- –ú–æ–¥—É–ª–∏ -->
        <div class="collapsible-section">
            <div class="section-header" onclick="toggleSection('modules')">
                <h6 class="section-title">–ú–æ–¥—É–ª–∏</h6>
                <i class="bi bi-chevron-down section-toggle" id="modules-toggle"></i>
            </div>
            <div class="section-content" id="modules-content">
                <div class='quick-module-list'>
                    <a href="#" class="quick-module-item" onclick="selectModule('dashboard', event)">
                        <i class="bi bi-speedometer2 quick-module-icon text-primary"></i>
                        <span>–î–∞—à–±–æ—Ä–¥</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('employees', event)">
                        <i class="bi bi-people quick-module-icon text-info"></i>
                        <span>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('recruiting', event)">
                        <i class="bi bi-person-plus quick-module-icon text-success"></i>
                        <span>–†–µ–∫—Ä—É—Ç–∏–Ω–≥</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('adaptation', event)">
                        <i class="bi bi-person-check quick-module-icon text-warning"></i>
                        <span>–ê–¥–∞–ø—Ç–∞—Ü–∏—è</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('cb', event)">
                        <i class="bi bi-cash-stack quick-module-icon text-danger"></i>
                        <span>C&B</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('hrops', event)">
                        <i class="bi bi-gear-wide-connected quick-module-icon text-secondary"></i>
                        <span>HR Operations</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('ld', event)">
                        <i class="bi bi-mortarboard quick-module-icon text-primary"></i>
                        <span>L&D</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('performance', event)">
                        <i class="bi bi-graph-up quick-module-icon text-info"></i>
                        <span>KPI –∏ –æ—Ü–µ–Ω–∫–∞</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('okr', event)">
                        <i class="bi bi-bullseye quick-module-icon text-success"></i>
                        <span>OKR</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('time', event)">
                        <i class="bi bi-clock-history quick-module-icon text-warning"></i>
                        <span>–£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('projects', event)">
                        <i class="bi bi-kanban quick-module-icon text-danger"></i>
                        <span>HR-–ø—Ä–æ–µ–∫—Ç—ã</span>
                    </a>
                    <a href="wiki/wiki.html" class="quick-module-item">
                        <i class="bi bi-book quick-module-icon text-secondary"></i>
                        <span>Wiki</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('corporate', event)">
                        <i class="bi bi-globe quick-module-icon text-primary"></i>
                        <span>–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç–∞–ª</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('reports', event)">
                        <i class="bi bi-file-earmark-text quick-module-icon text-info"></i>
                        <span>–û—Ç—á–µ—Ç—ã</span>
                    </a>
                    <a href="#" class="quick-module-item" onclick="selectModule('settings', event)">
                        <i class="bi bi-gear quick-module-icon text-secondary"></i>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container-fluid salary-page pt-3">
        <div class="row justify-content-center g-0">
            <!-- –õ–µ–≤–æ–µ –º–µ–Ω—é -->
            <div class="col-lg-2 col-md-3">
                <nav class="salary-sidebar mx-lg-0 mx-md-0 mx-auto" id="salaryMenu">
                    <button class="list-group-item list-group-item-action active" data-section="employees"><i class="bi bi-people me-2"></i>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</button>
                    <button class="list-group-item list-group-item-action" data-section="ranges"><i class="bi bi-sliders me-2"></i>–í–∏–ª–∫–∏</button>
                    <button class="list-group-item list-group-item-action" data-section="benchmarks"><i class="bi bi-bar-chart-line me-2"></i>–ë–µ–Ω—á–º–∞—Ä–∫–∏</button>
                    <button class="list-group-item list-group-item-action" data-section="vacancies"><i class="bi bi-briefcase me-2"></i>–í–Ω–µ—à–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</button>
                    <button class="list-group-item list-group-item-action" data-section="report"><i class="bi bi-file-earmark-bar-graph me-2"></i>–û–±—â–∏–π –æ—Ç—á–µ—Ç</button>
                    <button class="list-group-item list-group-item-action" data-section="archive"><i class="bi bi-archive me-2"></i>–ê—Ä—Ö–∏–≤</button>
                    <button class="list-group-item list-group-item-action" data-section="settings"><i class="bi bi-gear me-2"></i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </nav>
        </div>
            <!-- –ü—Ä–∞–≤–∞—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å -->
            <div class="col-lg-10 col-md-9 salary-main" id="salaryMainContent">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
          </div>
        </div>
    </div>
    
    <!-- –§—É—Ç–µ—Ä —Å –∑–∞–¥–∞—á–∞–º–∏ -->
    <footer class="tasks-footer" id="tasksFooter">
        <div class="tasks-container" id="tasksContainer">
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–¥–∞—á–∞–º–∏ -->
        </div>
    </footer>
    
    <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é -->
    <div class="context-menu" id="contextMenu">
        <a href="#" class="context-item">
            <i class="bi bi-folder-plus"></i>
            <span>–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É</span>
        </a>
        <a href="#" class="context-item">
            <i class="bi bi-file-earmark-plus"></i>
            <span>–ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç</span>
        </a>
        <div class="context-divider"></div>
        <a href="#" class="context-item">
            <i class="bi bi-star"></i>
            <span>–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
        </a>
        <a href="#" class="context-item">
            <i class="bi bi-share"></i>
            <span>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>
        </a>
        <div class="context-divider"></div>
        <a href="#" class="context-item text-danger">
            <i class="bi bi-trash"></i>
            <span>–£–¥–∞–ª–∏—Ç—å</span>
        </a>
    </div>
    
    <!-- –ü–ª–∞–≤–∞—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="floating-actions">
        <button class="fab secondary" onclick="scrollToTop()">
            <i class="bi bi-arrow-up"></i>
        </button>
        <button class="fab" onclick="openCreateMenu()">
            <i class="bi bi-plus-lg"></i>
        </button>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../common.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
                // --- –î–ê–ù–ù–´–ï –ò –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ê–†–•–ò–í–ê ---
                const archivedVacanciesData = [
          {
            id: 'hh-12345',
            source: 'hh',
            title: 'Senior Frontend Developer',
            location: '–ú–æ—Å–∫–≤–∞',
            company: 'Tech Solutions',
            salary_from: 300000,
            salary_to: 400000,
            currency: 'RUB',
            archived_at: '2024-06-10T10:00:00'
          },
          {
            id: 'ln-67890',
            source: 'ln',
            title: 'Product Manager',
            location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
            company: 'Digital Innovations',
            salary_from: 250000,
            salary_to: 350000,
            currency: 'RUB',
            archived_at: '2024-06-08T12:15:00'
          },
          {
            id: 'tg-54321',
            source: 'tg',
            title: 'DevOps Engineer',
            location: '–£–¥–∞–ª–µ–Ω–Ω–æ',
            company: 'Cloud Systems',
            salary_from: 280000,
            salary_to: 380000,
            currency: 'RUB',
            archived_at: '2024-06-09T16:45:00'
          },
          {
            id: 'ex-11111',
            source: 'ex',
            title: 'QA Engineer',
            location: '–ö–∞–∑–∞–Ω—å',
            company: 'QA Systems',
            salary_from: 200000,
            salary_to: 250000,
            currency: 'RUB',
            archived_at: '2024-06-07T09:00:00'
          },
          {
            id: 'tb-22222',
            source: 'tb',
            title: 'Business Analyst',
            location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥',
            company: 'Analytics Pro',
            salary_from: 270000,
            salary_to: 320000,
            currency: 'RUB',
            archived_at: '2024-06-06T11:30:00'
          },
          {
            id: 'hc-33333',
            source: 'hc',
            title: 'UI/UX Designer',
            location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫',
            company: 'Design Studio',
            salary_from: 260000,
            salary_to: 310000,
            currency: 'RUB',
            archived_at: '2024-06-05T14:20:00'
          },
          {
            id: 'hh-44444',
            source: 'hh',
            title: 'Backend Developer',
            location: '–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥',
            company: 'Backend Corp',
            salary_from: 320000,
            salary_to: 420000,
            currency: 'RUB',
            archived_at: '2024-06-04T10:10:00'
          },
          {
            id: 'ln-55555',
            source: 'ln',
            title: 'HR Specialist',
            location: '–í–æ—Ä–æ–Ω–µ–∂',
            company: 'HR Group',
            salary_from: 210000,
            salary_to: 260000,
            currency: 'RUB',
            archived_at: '2024-06-03T13:00:00'
          },
          {
            id: 'tg-66666',
            source: 'tg',
            title: 'Project Manager',
            location: '–ö–∞–∑–∞–Ω—å',
            company: 'PM Experts',
            salary_from: 350000,
            salary_to: 450000,
            currency: 'RUB',
            archived_at: '2024-06-02T15:45:00'
          },
          {
            id: 'ex-77777',
            source: 'ex',
            title: 'System Analyst',
            location: '–ú–æ—Å–∫–≤–∞',
            company: 'SysAnalytica',
            salary_from: 240000,
            salary_to: 290000,
            currency: 'RUB',
            archived_at: '2024-06-01T17:30:00'
          },
          {
            id: 'tb-88888',
            source: 'tb',
            title: 'Marketing Lead',
            location: '–°–æ—á–∏',
            company: 'MarketLead',
            salary_from: 330000,
            salary_to: 390000,
            currency: 'RUB',
            archived_at: '2024-05-31T12:00:00'
          },
          {
            id: 'hc-99999',
            source: 'hc',
            title: 'Support Engineer',
            location: '–ü–µ—Ä–º—å',
            company: 'SupportPro',
            salary_from: 180000,
            salary_to: 230000,
            currency: 'RUB',
            archived_at: '2024-05-30T09:30:00'
          }
        ];

        // 1. –î–æ–±–∞–≤–ª—è—é –µ—â—ë 4 –≤–∞–∫–∞–Ω—Å–∏–∏:
        archivedVacanciesData.push(
          { id: 'hh-10101', source: 'hh', title: 'Frontend Intern', location: '–ú–æ—Å–∫–≤–∞', company: 'Tech Solutions', salary_from: 100000, salary_to: 150000, currency: 'RUB', archived_at: '2024-05-29T10:00:00' },
          { id: 'ln-20202', source: 'ln', title: 'Junior Product Manager', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', company: 'Digital Innovations', salary_from: 120000, salary_to: 170000, currency: 'RUB', archived_at: '2024-05-28T12:15:00' },
          { id: 'tg-30303', source: 'tg', title: 'DevOps Trainee', location: '–£–¥–∞–ª–µ–Ω–Ω–æ', company: 'Cloud Systems', salary_from: 110000, salary_to: 160000, currency: 'RUB', archived_at: '2024-05-27T16:45:00' },
          { id: 'ex-40404', source: 'ex', title: 'QA Trainee', location: '–ö–∞–∑–∞–Ω—å', company: 'QA Systems', salary_from: 90000, salary_to: 120000, currency: 'RUB', archived_at: '2024-05-26T09:00:00' }
        );

        function formatArchivedTime(dateString) {
          const now = new Date();
          const archived = new Date(dateString);
          const diff = now - archived;
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          if (days > 0) return `${days} –¥. –Ω–∞–∑–∞–¥`;
          if (hours > 0) return `${hours} —á. –Ω–∞–∑–∞–¥`;
          return `${minutes} –º–∏–Ω. –Ω–∞–∑–∞–¥`;
        }

        function renderArchivedTable(page = 1, perPage = 10, search = '', channel = '') {
          if (typeof page === 'undefined') page = 1;
          let filtered = archivedVacanciesData.filter(v => {
            const q = search.trim().toLowerCase();
            if (channel && v.source !== channel) return false;
            if (!q) return true;
            return (
              (v.source ? v.source + '-' : '') + v.id
            ).toLowerCase().includes(q) ||
              v.title.toLowerCase().includes(q) ||
              v.location.toLowerCase().includes(q) ||
              v.company.toLowerCase().includes(q);
          });
          const total = filtered.length;
          const totalPages = Math.ceil(total / perPage);
          const start = (page - 1) * perPage;
          const end = start + perPage;
          const items = filtered.slice(start, end);
          document.getElementById('salaryMainContent').innerHTML = `
            <div class='d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2'>
              <h3 class='mb-0'><i class="bi bi-archive me-2"></i>–ê—Ä—Ö–∏–≤ –≤–∞–∫–∞–Ω—Å–∏–π <span class='text-muted fs-6'>(${total})</span></h3>
              <div class='d-flex gap-2'>
                <select class='form-select form-select-sm' id='archivedChannelSelect' style='width:160px; min-width:120px; height:32px;'>
                  ${channelOptions.map(opt => `<option value='${opt.value}'${opt.value===channel?" selected":''}>${opt.label}</option>`).join('')}
                </select>
                <input type='text' class='form-control form-control-sm vacancy-search-input' style='width:160px; height:32px; font-size:0.98rem;' placeholder='–ü–æ–∏—Å–∫...' id='archivedSearchInput' value='${search.replace(/'/g, "&#39;")}' autocomplete='off' />
              </div>
            </div>
            <div class='table-responsive'>
              <table class='table table-hover align-middle small p-0' style='font-size:0.92rem;'>
                <thead class='table-light'>
                  <tr>
                    <th style='width: 100px'>ID</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–õ–æ–∫–∞—Ü–∏—è</th>
                    <th>–ó–ü –æ—Ç</th>
                    <th>–ó–ü –¥–æ</th>
                    <th>–í–∞–ª—é—Ç–∞</th>
                    <th>–í –∞—Ä—Ö–∏–≤–µ</th>
                    <th style='width: 100px'>–î–µ–π—Å—Ç–≤–∏–µ</th>
                  </tr>
                </thead>
                <tbody>
                  ${items.map(v => `
                    <tr>
                      <td class='text-muted'>${v.id}</td>
                      <td>
                        <div class='fw-medium'>${v.title}</div>
                        <div class='text-muted small'>${v.company}</div>
                      </td>
                      <td>${v.location}</td>
                      <td>${v.salary_from?.toLocaleString() || '-'}</td>
                      <td>${v.salary_to?.toLocaleString() || '-'}</td>
                      <td>${v.currency || 'RUB'}</td>
                      <td class='text-muted'>${formatArchivedTime(v.archived_at)}</td>
                      <td>
                        <button class='btn btn-sm btn-outline-secondary vacancy-info-btn' data-id='${v.id}' data-source='${v.source}' data-archive='1'>Info</button>
                      </td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            </div>
            ${renderPagination(page, totalPages, (p) => renderArchivedTable(p, perPage, search, channel))}
          `;
          setTimeout(() => {
            const channelSelect = document.getElementById('archivedChannelSelect');
            if (channelSelect && !channelSelect._handler) {
              channelSelect._handler = true;
              channelSelect.addEventListener('change', function() {
                renderArchivedTable(1, perPage, document.getElementById('archivedSearchInput')?.value || '', this.value);
              });
            }
            const searchInput = document.getElementById('archivedSearchInput');
            if (searchInput && !searchInput._debounced) {
              let debounceTimer;
              searchInput.addEventListener('input', function() {
                clearTimeout(debounceTimer);
                const val = this.value;
                const channelVal = document.getElementById('archivedChannelSelect')?.value || '';
                debounceTimer = setTimeout(() => {
                  renderArchivedTable(1, perPage, val, channelVal);
                  setTimeout(() => {
                    const newInput = document.getElementById('archivedSearchInput');
                    if (newInput) {
                      newInput.focus();
                      newInput.setSelectionRange(val.length, val.length);
                    }
                  }, 0);
                }, 200);
              });
              searchInput._debounced = true;
            }
          }, 0);
        }

        // –î–∞–Ω–Ω—ã–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
        let pinnedTasks = [
            { id: 1, text: '–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ: –ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á - Senior Developer', type: 'interview' },
            { id: 2, text: '–û—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç–ø—É—Å–∫: –°–∏–¥–æ—Ä–æ–≤–∞ –ê.–í. (15.06-29.06)', type: 'vacation' },
            { id: 3, text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–µ–ª—å –æ—Ç–¥–µ–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–∞ –º–∞–π', type: 'timesheet' },
            { id: 4, text: '–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ KPI', type: 'report' },
            { id: 5, text: '–ü–ª–∞–Ω–µ—Ä–∫–∞ HR-–æ—Ç–¥–µ–ª–∞ –≤ 14:00', type: 'meeting' },
            { id: 6, text: '–û–±–Ω–æ–≤–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é: Product Manager', type: 'vacancy' },
            { id: 7, text: '–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å 5 –∑–∞—è–≤–æ–∫ –Ω–∞ –∫–æ—Ä–ø. –æ–±—É—á–µ–Ω–∏–µ', type: 'training' },
            { id: 8, text: '–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –ø—Ä–µ–º–∏–∏ –∑–∞ Q2 2025', type: 'bonus' },
            { id: 9, text: '–¢–µ–ª–µ—Ñ–æ–Ω–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é: –ò–≤–∞–Ω–æ–≤–∞ –ú.–ü. –≤ 11:00', type: 'interview' },
            { id: 10, text: '1-–π –¥–µ–Ω—å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏: –ö–æ–∑–ª–æ–≤ –î.–ê. (–≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –≤ 9:00)', type: 'adaptation' },
            { id: 11, text: '–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–≥—Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂', type: 'structure' },
            { id: 12, text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ–ª—å–Ω–∏—á–Ω—ã–µ: 3 –Ω–æ–≤—ã—Ö –ª–∏—Å—Ç–∞', type: 'sick' },
            { id: 13, text: '–°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è –Ω–∞ Q3 2025', type: 'training' },
            { id: 14, text: '–§–∏–Ω–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é: –°–º–∏—Ä–Ω–æ–≤ –í.–ê. - Team Lead', type: 'interview' },
            { id: 15, text: '–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Å–æ–±—Ä–∞–Ω–∏—è', type: 'presentation' },
            { id: 16, text: '–û—Ü–µ–Ω–∫–∞ 360: –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–ø—Ä–æ—Å—ã –¥–æ 30.05', type: 'performance' },
            { id: 17, text: '–ó–∞–∫–∞–∑–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫–∞ –¥–ª—è 3 –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤', type: 'hrops' },
            { id: 18, text: '–í—Å—Ç—Ä–µ—á–∞ —Å —é—Ä–∏—Å—Ç–æ–º: —Ç—Ä—É–¥–æ–≤—ã–µ —Å–ø–æ—Ä—ã –≤ 16:00', type: 'meeting' },
            { id: 19, text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—é–º–µ: 12 –Ω–æ–≤—ã—Ö –æ—Ç–∫–ª–∏–∫–æ–≤', type: 'recruiting' },
            { id: 20, text: '–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ IT-–æ—Ç–¥–µ–ª–∞', type: 'documents' },
            { id: 21, text: '–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ç–∏–º–±–∏–ª–¥–∏–Ω–≥ –Ω–∞ 15.06', type: 'event' },
            { id: 22, text: '–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞: –ú–æ—Ä–æ–∑–æ–≤ –ü.–°.', type: 'schedule' },
            { id: 23, text: 'Exit-–∏–Ω—Ç–µ—Ä–≤—å—é: –ö—É–∑–Ω–µ—Ü–æ–≤–∞ –ï.–ê. –≤ 15:00', type: 'interview' },
            { id: 24, text: '–ü–æ–¥–ø–∏—Å–∞—Ç—å –ø—Ä–∏–∫–∞–∑—ã –æ –ø–µ—Ä–µ–≤–æ–¥–µ (3 —à—Ç.)', type: 'documents' },
            { id: 25, text: '–û–±–∑–≤–æ–Ω –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é HR BP', type: 'recruiting' },
            { id: 26, text: '–°–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ —Ç–µ–∫—É—á–µ—Å—Ç–∏ –∫–∞–¥—Ä–æ–≤', type: 'analytics' },
            { id: 27, text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏: –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ó–ü', type: 'compensation' },
            { id: 28, text: '–í—Å—Ç—Ä–µ—á–∞ —Å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º–∏: –ø–ª–∞–Ω –Ω–∞–π–º–∞ Q3', type: 'meeting' },
            { id: 29, text: '–û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤', type: 'database' },
            { id: 30, text: '–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ä–æ—Å —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏', type: 'survey' }
        ];
        
        // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–º–µ–Ω—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
        const moduleSubmenus = {
            dashboard: null, // –î–∞—à–±–æ—Ä–¥ –Ω–µ –∏–º–µ–µ—Ç –ø–æ–¥–º–µ–Ω—é
            employees: [
                { icon: 'bi-people', text: '–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏', active: true },
                { icon: 'bi-person-badge', text: '–ü—Ä–æ—Ñ–∏–ª–∏' },
                { icon: 'bi-building', text: '–û—Ç–¥–µ–ª—ã' },
                { icon: 'bi-diagram-3', text: '–û—Ä–≥—Å—Ç—Ä—É–∫—Ç—É—Ä–∞' },
                { icon: 'bi-person-lines-fill', text: '–ö–æ–Ω—Ç–∞–∫—Ç—ã' }
            ],
            recruiting: [
                { icon: 'bi-briefcase', text: '–í–∞–∫–∞–Ω—Å–∏–∏', active: true },
                { icon: 'bi-person-plus', text: '–ö–∞–Ω–¥–∏–¥–∞—Ç—ã' },
                { icon: 'bi-calendar-check', text: '–ò–Ω—Ç–µ—Ä–≤—å—é' },
                { icon: 'bi-clipboard-check', text: '–û—Ü–µ–Ω–∫–∞' },
                { icon: 'bi-graph-up', text: '–í–æ—Ä–æ–Ω–∫–∞' }
            ],
            adaptation: [
                { icon: 'bi-person-check', text: '–ù–æ–≤–∏—á–∫–∏', active: true },
                { icon: 'bi-list-check', text: '–ü–ª–∞–Ω—ã' },
                { icon: 'bi-clipboard2-check', text: '–ß–µ–∫-–ª–∏—Å—Ç—ã' },
                { icon: 'bi-person-workspace', text: '–ù–∞—Å—Ç–∞–≤–Ω–∏–∫–∏' },
                { icon: 'bi-bar-chart', text: '–ü—Ä–æ–≥—Ä–µ—Å—Å' }
            ],
            cb: [
                { icon: 'bi-speedometer2', text: '–î–∞—à–±–æ—Ä–¥'},
                { icon: 'bi-cash-stack', text: '–ó–∞—Ä–ø–ª–∞—Ç—ã', active: true},
                { icon: 'bi-gift', text: '–ë–æ–Ω—É—Å—ã' },
                { icon: 'bi-award', text: '–õ—å–≥–æ—Ç—ã' },
                { icon: 'bi-calculator', text: '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä' },
                { icon: 'bi-file-earmark-bar-graph', text: '–ì—Ä–µ–π–¥—ã' },
                { icon: 'bi-gear', text: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏' } // –ù–æ–≤—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é
            ],
            hrops: [
                { icon: 'bi-gear-wide-connected', text: '–ü—Ä–æ—Ü–µ—Å—Å—ã', active: true },
                { icon: 'bi-file-earmark-text', text: '–î–æ–∫—É–º–µ–Ω—Ç—ã' },
                { icon: 'bi-envelope', text: '–ó–∞—è–≤–∫–∏' },
                { icon: 'bi-shield-check', text: 'Compliance' },
                { icon: 'bi-robot', text: '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è' }
            ],
            ld: [
                { icon: 'bi-mortarboard', text: '–ö—É—Ä—Å—ã', active: true },
                { icon: 'bi-book', text: '–ü—Ä–æ–≥—Ä–∞–º–º—ã' },
                { icon: 'bi-trophy', text: '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã' },
                { icon: 'bi-people', text: '–¢—Ä–µ–Ω–µ—Ä—ã' },
                { icon: 'bi-calendar3', text: '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ' }
            ],
            performance: [
                { icon: 'bi-speedometer2', text: 'KPI', active: true },
                { icon: 'bi-star', text: '–û—Ü–µ–Ω–∫–∞' },
                { icon: 'bi-bullseye', text: '–¶–µ–ª–∏' },
                { icon: 'bi-chat-square-dots', text: '–§–∏–¥–±–µ–∫' },
                { icon: 'bi-arrow-up-right', text: '–†–∞–∑–≤–∏—Ç–∏–µ' }
            ],
            okr: [
                { icon: 'bi-bullseye', text: '–¶–µ–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏', active: true },
                { icon: 'bi-diagram-3', text: '–ö–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏–µ' },
                { icon: 'bi-bar-chart-line', text: '–ü—Ä–æ–≥—Ä–µ—Å—Å' },
                { icon: 'bi-flag', text: '–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã' },
                { icon: 'bi-clock-history', text: '–ò—Å—Ç–æ—Ä–∏—è' }
            ],
            time: [
                { icon: 'bi-clock', text: '–¢–∞–±–µ–ª—å', active: true },
                { icon: 'bi-calendar-week', text: '–ì—Ä–∞—Ñ–∏–∫' },
                { icon: 'bi-airplane', text: '–û—Ç–ø—É—Å–∫–∞' },
                { icon: 'bi-heart-pulse', text: '–ë–æ–ª—å–Ω–∏—á–Ω—ã–µ' },
                { icon: 'bi-stopwatch', text: '–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏' }
            ],
            projects: [
                { icon: 'bi-kanban', text: '–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã', active: true },
                { icon: 'bi-list-task', text: '–ó–∞–¥–∞—á–∏' },
                { icon: 'bi-diagram-2', text: 'Roadmap' },
                { icon: 'bi-people-fill', text: '–ö–æ–º–∞–Ω–¥—ã' },
                { icon: 'bi-pie-chart', text: '–û—Ç—á–µ—Ç—ã' }
            ],
            wiki: [
                { icon: 'bi-house-door', text: '–ì–ª–∞–≤–Ω–∞—è', active: true },
                { icon: 'bi-folder2-open', text: '–ö–∞—Ç–µ–≥–æ—Ä–∏–∏' },
                { icon: 'bi-file-text', text: '–°—Ç–∞—Ç—å–∏' },
                { icon: 'bi-search', text: '–ü–æ–∏—Å–∫' },
                { icon: 'bi-clock-history', text: '–ù–µ–¥–∞–≤–Ω–∏–µ' }
            ],
            corporate: [
                { icon: 'bi-newspaper', text: '–ù–æ–≤–æ—Å—Ç–∏', active: true },
                { icon: 'bi-calendar-event', text: '–°–æ–±—ã—Ç–∏—è' },
                { icon: 'bi-megaphone', text: '–û–±—ä—è–≤–ª–µ–Ω–∏—è' },
                { icon: 'bi-images', text: '–ì–∞–ª–µ—Ä–µ—è' },
                { icon: 'bi-info-circle', text: '–û –∫–æ–º–ø–∞–Ω–∏–∏' }
            ],
            reports: [
                { icon: 'bi-file-earmark-bar-graph', text: '–î–∞—à–±–æ—Ä–¥—ã', active: true },
                { icon: 'bi-file-earmark-excel', text: '–≠–∫—Å–ø–æ—Ä—Ç' },
                { icon: 'bi-sliders', text: '–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä' },
                { icon: 'bi-bookmark', text: '–ò–∑–±—Ä–∞–Ω–Ω–æ–µ' },
                { icon: 'bi-clock-history', text: '–ò—Å—Ç–æ—Ä–∏—è' }
            ],
            settings: [
                { icon: 'bi-sliders', text: '–û–±—â–∏–µ', active: true },
                { icon: 'bi-people', text: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏' },
                { icon: 'bi-shield-lock', text: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å' },
                { icon: 'bi-plug', text: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏' },
                { icon: 'bi-palette', text: '–í–Ω–µ—à–Ω–∏–π –≤–∏–¥' }
            ]
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É—Ç–µ—Ä–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
        function initTasksFooter() {
            updateTasksDisplay();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–¥–∞—á —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
        function updateTasksDisplay() {
            const container = document.getElementById('tasksContainer');
            if (!container) return;
            
            function truncateText(text, maxLength = 20) {
                if (text.length <= maxLength) return text;
                return text.substring(0, maxLength) + '...';
            }
            
            setTimeout(() => {
            const containerWidth = container.offsetWidth || window.innerWidth - 32;
            const maxVisibleWidth = Math.max(containerWidth - 150, 200);
            
            let htmlTasks = '';
            let currentWidth = 0;
            let visibleTasks = [];
            let hiddenTasks = [];
            
            if (pinnedTasks.length === 0) {
                container.innerHTML = '<span class="text-muted">¬© –ò–≤–∞–Ω –ì–æ–ª—É–±–µ–Ω–∫–æ, 2023‚Äì2024 | HRM Pro v1.0</span>';
                return;
            }
            
            const tempDiv = document.createElement('div');
            tempDiv.style.position = 'absolute';
            tempDiv.style.visibility = 'hidden';
            tempDiv.style.whiteSpace = 'nowrap';
            tempDiv.className = 'task-badge';
            document.body.appendChild(tempDiv);
            
            pinnedTasks.forEach(task => {
                const truncatedText = truncateText(task.text);
                tempDiv.innerHTML = `${truncatedText}<button class="close-btn">√ó</button>`;
                const taskWidth = tempDiv.offsetWidth + 8;
                if (currentWidth + taskWidth <= maxVisibleWidth) {
                    visibleTasks.push(task);
                    currentWidth += taskWidth;
                } else {
                    hiddenTasks.push(task);
                }
            });
            document.body.removeChild(tempDiv);
            
                // –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–¥–∞—á–∏ –≤ –æ–±—ã—á–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ)
            visibleTasks.forEach(task => {
                const truncatedText = truncateText(task.text);
                htmlTasks += `
                    <span class="task-badge" onclick="openTask(${task.id})" title="${task.text}">
                        <button class="close-btn" onclick="removeTask(${task.id}, event)">√ó</button>
                        ${truncatedText}
                    </span>
                `;
            });
            
            let html = htmlTasks;
                // –ö–Ω–æ–ø–∫–∞ —Å–∫—Ä—ã—Ç—ã—Ö –∑–∞–¥–∞—á –≤—Å–µ–≥–¥–∞ —Å–∞–º–∞—è –ø—Ä–∞–≤–∞—è
            if (hiddenTasks.length > 0) {
                html += `
                    <button class="tasks-overflow-btn" onclick="toggleTasksDropdown(event)" type="button" id="tasksOverflowBtn">
                        <i class="bi bi-list"></i>
                        <span>+${hiddenTasks.length}</span>
                    </button>
                `;
                let dropdown = document.getElementById('tasksDropdown');
                if (dropdown) {
                    dropdown.remove();
                }
                dropdown = document.createElement('div');
                dropdown.className = 'tasks-dropdown';
                dropdown.id = 'tasksDropdown';
                    // –¢–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–¥–∞—á-–ø–∏–ª—é–ª—å, –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –ª–∏—à–Ω–∏—Ö –æ–±–µ—Ä—Ç–æ–∫
                    dropdown.innerHTML = `<div class="tasks-container">${
                        hiddenTasks.map(task => `
                            <span class=\"task-badge\" onclick=\"openTask(${task.id})\" title=\"${task.text}\">
                                <button class=\"close-btn\" onclick=\"removeTask(${task.id}, event)\">√ó</button>
                                ${task.text}
                            </span>
                        `).join('')
                    }</div>`;
                document.body.appendChild(dropdown);
                }
            container.innerHTML = html;
            }, 100);
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
        function toggleTasksDropdown(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const dropdown = document.getElementById('tasksDropdown');
            const button = document.getElementById('tasksOverflowBtn');
            
            if (!dropdown || !button) return;
            
            const isShowing = dropdown.classList.contains('show');
            
            if (isShowing) {
                dropdown.classList.remove('show');
            } else {
                // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º dropdown —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ —Å–æ–≤–ø–∞–¥–∞–ª–∞ —Å –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π –∫–Ω–æ–ø–∫–∏
                const buttonRect = button.getBoundingClientRect();
                const dropdownWidth = dropdown.offsetWidth;
                const windowWidth = window.innerWidth;
                
                // –ù–æ–≤–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ right
                let rightPosition = windowWidth - buttonRect.right;
                dropdown.style.position = 'fixed';
                dropdown.style.right = rightPosition + 'px';
                dropdown.style.left = 'auto';
                dropdown.style.bottom = (window.innerHeight - buttonRect.top + 8) + 'px';
                
                dropdown.classList.add('show');
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
                setTimeout(() => {
                    function closeDropdown(e) {
                        if (!dropdown.contains(e.target) && !button.contains(e.target)) {
                            dropdown.classList.remove('show');
                            document.removeEventListener('click', closeDropdown);
                        }
                    }
                    document.addEventListener('click', closeDropdown);
                }, 0);
            }
        }
        
        // –û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á—É
        function openTask(taskId) {
            const task = pinnedTasks.find(t => t.id === taskId);
            if (task) {
                showNotification(`–û—Ç–∫—Ä—ã—Ç–∞ –∑–∞–¥–∞—á–∞: ${task.text}`);
            }
        }
        
        // –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
        function removeTask(taskId, event) {
            event.stopPropagation();
            pinnedTasks = pinnedTasks.filter(t => t.id !== taskId);
            updateTasksDisplay();
            showNotification('–ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö');
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
        function addPinnedTask(taskText) {
            const newTask = {
                id: Math.max(...pinnedTasks.map(t => t.id)) + 1,
                text: taskText,
                type: 'custom'
            };
            pinnedTasks.push(newTask);
            updateTasksDisplay();
            showNotification('–ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ');
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–¥–∞—á
        function debugTasks() {
            console.log('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á:', pinnedTasks.length);
            console.log('–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:', document.getElementById('tasksContainer'));
            console.log('–®–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:', document.getElementById('tasksContainer')?.offsetWidth);
                updateTasksDisplay();
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–º–µ–Ω—é –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–æ–¥—É–ª—è
        function updateSubmenu(moduleKey) {
            const submenu = document.getElementById('moduleSubmenu');
            const submenuItems = document.getElementById('submenuItems');
            const contentArea = document.getElementById('contentArea');
            if (!submenu || !submenuItems || !contentArea) return;
            
            const items = moduleSubmenus[moduleKey];
            
            if (!items) {
                submenu.classList.remove('show');
                contentArea.classList.remove('with-submenu');
                return;
            }
            
            submenuItems.innerHTML = items.map(item => `
                <a href="#" class="submenu-item ${item.active ? 'active' : ''}">
                    <i class="bi ${item.icon}"></i>
                    <span>${item.text}</span>
                </a>
            `).join('');
            
            submenu.classList.add('show');
            contentArea.classList.add('with-submenu');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–¥–º–µ–Ω—é
            document.querySelectorAll('.submenu-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelectorAll('.submenu-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }
        
        // –í—ã–±–æ—Ä –º–æ–¥—É–ª—è –∏–∑ –±—ã—Å—Ç—Ä–æ–π –ø–∞–Ω–µ–ª–∏
        function selectModule(moduleKey, event) {
            event.preventDefault();
            
            // –ù–∞—Ö–æ–¥–∏–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É –º–æ–¥—É–ª—è
            document.querySelectorAll('.module-card').forEach(card => {
                if (card.dataset.module === moduleKey) {
                    card.classList.add('active');
                } else {
                    card.classList.remove('active');
                }
            });
            
            updateSubmenu(moduleKey);
            toggleQuickPanel();
        }
        
        // –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
        document.addEventListener('contextmenu', function(e) {
            if (e.target.closest('.module-card')) {
                e.preventDefault();
                const menu = document.getElementById('contextMenu');
                menu.style.left = e.pageX + 'px';
                menu.style.top = e.pageY + 'px';
                menu.classList.add('show');
            }
        });
        
        document.addEventListener('click', function() {
            document.getElementById('contextMenu').classList.remove('show');
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
        document.querySelectorAll('.module-card').forEach(card => {
            card.addEventListener('click', function(e) {
                // –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–æ–¥–º–µ–Ω—é
                document.querySelectorAll('.module-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                
                const moduleName = this.dataset.module;
                updateSubmenu(moduleName);
                
                // –ï—Å–ª–∏ –Ω–µ—Ç href, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥
                if (!this.hasAttribute('href')) {
                    e.preventDefault();
                }
            });
        });
        
        // --- ToDo –∑–∞–¥–∞—á–∏ (C&B —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏) ---
        let todoTasks = [
            {id:1, title:'–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∑–∞—Ä–ø–ª–∞—Ç', desc:'–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∑–∞—Ä–ø–ª–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Ñ–ª—è—Ü–∏–∏ –∑–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª—É–≥–æ–¥–∏–µ. –°—Ä–æ–∫: –¥–æ 20 –∏—é–Ω—è.', status:'–ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ'},
            {id:2, title:'–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤', desc:'–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤ –∑–∞ –º–∞–π, –≤—ã—è–≤–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏. –°—Ä–æ–∫: –¥–æ 10 –∏—é–Ω—è.', status:'–ù–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ'},
            {id:3, title:'–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –±—é–¥–∂–µ—Ç –Ω–∞ –ª—å–≥–æ—Ç—ã', desc:'–ü—Ä–æ–≤–µ—Å—Ç–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –Ω–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ª—å–≥–æ—Ç—ã –Ω–∞ Q3. –°—Ä–æ–∫: –¥–æ 25 –∏—é–Ω—è.', status:'–ù–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ'},
            {id:4, title:'–û–±–Ω–æ–≤–∏—Ç—å –≥—Ä–µ–π–¥—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤', desc:'–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä –≥—Ä–µ–π–¥–æ–≤ –ø–æ –∏—Ç–æ–≥–∞–º –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –°—Ä–æ–∫: –¥–æ 30 –∏—é–Ω—è.', status:'–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏'}
        ];
        function getStatusBadge(status) {
            switch(status) {
                case '–ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ': return "<span class='badge bg-info-subtle text-info me-2'>–ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ</span>";
                case '–ù–∞ —Ä–µ–∑–æ–ª—é—Ü–∏–∏': return "<span class='badge bg-primary-subtle text-primary me-2'>–ù–∞ —Ä–µ–∑–æ–ª—é—Ü–∏–∏</span>";
                case '–ù–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ': return "<span class='badge bg-warning-subtle text-warning me-2'>–ù–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</span>";
                case '–ù–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ': return "<span class='badge bg-success-subtle text-success me-2'>–ù–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ</span>";
                case '–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏': return "<span class='badge bg-secondary-subtle text-secondary me-2'>–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</span>";
                default: return "<span class='badge bg-light text-dark me-2'>–ë–µ–∑ —Å—Ç–∞—Ç—É—Å–∞</span>";
            }
        }
        function renderTodoList() {
            const el = document.getElementById('todoList');
            if (!el) return;
            if (!todoTasks.length) {
                el.innerHTML = `<li class='list-group-item text-muted text-center'>–ù–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á</li>`;
                return;
            }
            el.innerHTML = todoTasks.map(task =>
                `<li class='list-group-item d-flex justify-content-between align-items-center todo-item' data-id='${task.id}' onclick='onTodoRowClick(event,${task.id})'>
                    <div class='d-flex align-items-center gap-2'>
                        <span class='badge bg-primary-subtle text-primary me-2'><i class='bi bi-clipboard-check'></i></span>
                        <span class='fw-semibold'>${task.title}</span>
                    </div>
                    <div class='d-flex align-items-center gap-2'>
                        ${getStatusBadge(task.status)}
                        <button class='btn btn-success btn-sm' title='–ó–∞–≤–µ—Ä—à–∏—Ç—å' onclick='completeTodoTask(${task.id}, event)'><i class='bi bi-check-lg'></i></button>
                    </div>
                </li>`
            ).join('');
        }
        function onTodoRowClick(event, id) {
            // –ù–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª–∫—É –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ –∫–Ω–æ–ø–∫–µ
            if (event.target.closest('button')) return;
            openTodoModal(id);
        }
        function completeTodoTask(id, event) {
            event.stopPropagation();
            todoTasks = todoTasks.filter(t=>t.id!==id);
            renderTodoList();
        }
        function openTodoModal(id) {
            const task = todoTasks.find(t=>t.id===id);
            if (!task) return;
            document.getElementById('todoModalTitle').textContent = task.title;
            document.getElementById('todoModalDesc').textContent = task.desc;
            const completeBtn = document.getElementById('todoCompleteBtn');
            completeBtn.onclick = function() {
                todoTasks = todoTasks.filter(t=>t.id!==id);
                renderTodoList();
                const modal = bootstrap.Modal.getOrCreateInstance(document.getElementById('todoModal'));
                modal.hide();
            };
            const modal = new bootstrap.Modal(document.getElementById('todoModal'));
            modal.show();
        }
        function addTodoTask() {
            const title = prompt('–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏:');
            if (!title) return;
            const desc = prompt('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:');
            const status = prompt('–í–≤–µ–¥–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏:');
            todoTasks.push({id:Date.now(), title, desc, status});
            renderTodoList();
        }
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥–º–µ–Ω—é C&B —Å—Ä–∞–∑—É
            updateSubmenu('cb');
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø–æ–¥–º–µ–Ω—é '–ó–∞—Ä–ø–ª–∞—Ç—ã', —Å–Ω–∏–º–∞–µ–º active —Å–æ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
            setTimeout(function() {
                var submenuItems = document.querySelectorAll('#moduleSubmenu .submenu-item');
                if (submenuItems.length) {
                    submenuItems.forEach(i => i.classList.remove('active'));
                    submenuItems.forEach(item => {
                        if (item.textContent.trim().includes('–ó–∞—Ä–ø–ª–∞—Ç—ã')) {
                            item.classList.add('active');
                        }
                    });
                }
            }, 0);
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É—Ç–µ—Ä–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
            setTimeout(() => {
                initTasksFooter();
            }, 100);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    updateTasksDisplay();
                }, 250);
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π
            const modules = document.querySelectorAll('.module-card');
            modules.forEach((module, index) => {
                module.style.opacity = '0';
                module.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    module.style.transition = 'all 0.3s ease';
                    module.style.opacity = '1';
                    module.style.transform = 'translateY(0)';
                }, index * 50);
            });
            // –í—ã–∑–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∞ ToDo-–±–ª–æ–∫–∞
            renderTodoList();
        });

        // --- –î–∞–Ω–Ω—ã–µ –¥–ª—è –º–µ–¥–∏–∞–Ω–Ω–æ–π –ó–ü –ø–æ –º–µ—Å—è—Ü–∞–º –¥–≤—É—Ö –ª–µ—Ç ---
        const medianSalaryData = {
            months: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω', '–ò—é–ª', '–ê–≤–≥', '–°–µ–Ω', '–û–∫—Ç', '–ù–æ—è', '–î–µ–∫'],
            prev: [370000, 372000, 375000, 378000, 380000, 382000, 385000, 388000, 390000, 392000, 395000, 398000],
            curr: [400000, 405000, 410000, 415000, 420000, 420000, 422000, 425000, 427000, 430000, 432000, 435000]
        };

        // –ú–µ–¥–∏–∞–Ω–Ω–∞—è –ó–ü (–≥—Ä–∞—Ñ–∏–∫: –æ–±–∞ –≥–æ–¥–∞ –Ω–∞ –æ–¥–Ω–æ–π –æ—Å–∏, –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞)
        if (document.getElementById('medianSalaryChart')) {
            const now = new Date();
            const currentMonth = now.getMonth(); // 0-—è–Ω–≤, 11-–¥–µ–∫
            const months = medianSalaryData.months;
            const prev = medianSalaryData.prev;
            // –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞: –ø–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞ ‚Äî null
            const curr = medianSalaryData.curr.map((val, idx) => idx <= currentMonth ? val : null);
            const ctx = document.getElementById('medianSalaryChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [
                        {
                            label: '–ü—Ä–æ—à–ª—ã–π –≥–æ–¥',
                            data: prev,
                            borderColor: '#bdbdbd',
                            backgroundColor: 'rgba(189,189,189,0.08)',
                            tension: 0.4,
                            fill: false,
                            pointRadius: 2
                        },
                        {
                            label: '–¢–µ–∫—É—â–∏–π –≥–æ–¥',
                            data: curr,
                            borderColor: '#43a047',
                            backgroundColor: 'rgba(67,160,71,0.08)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 3
                        }
                    ]
                },
                options: {
                    plugins: {
                        legend: { display: true },
                        tooltip: {
                            enabled: true,
                            callbacks: {
                                label: function(context) {
                                    const idx = context.dataIndex;
                                    const prevVal = prev[idx];
                                    const currVal = medianSalaryData.curr[idx];
                                    let lines = [];
                                    if (context.dataset.label === '–¢–µ–∫—É—â–∏–π –≥–æ–¥') {
                                        if (currVal !== null) {
                                            lines.push('–¢–µ–∫—É—â–∏–π –≥–æ–¥: ' + (currVal ? currVal.toLocaleString()+'‚Ç∏' : '‚Äî'));
                                            if (prevVal && currVal !== null && currVal !== undefined) {
                                                const diff = currVal - prevVal;
                                                const percent = ((currVal/prevVal-1)*100).toFixed(1);
                                                const sign = diff>0?'+':'';
                                                lines.push(`–†–∞–∑–Ω–∏—Ü–∞: ${sign}${diff.toLocaleString()}‚Ç∏ (${sign}${percent}%)`);
                                            }
                                        }
                                        return lines;
                                    } else {
                                        lines.push('–ü—Ä–æ—à–ª—ã–π –≥–æ–¥: ' + (prevVal ? prevVal.toLocaleString()+'‚Ç∏' : '‚Äî'));
                                        return lines;
                                    }
                                }
                            }
                        }
                    },
                    scales: { y: { beginAtZero: false } }
                }
            });
            // --- –í—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞–∑–Ω–∏—Ü—ã (–ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –º–µ—Å—è—Ü—É) ---
            const prevYearLast = prev[currentMonth];
            const currYearLast = medianSalaryData.curr[currentMonth];
            const yearDiff = currYearLast - prevYearLast;
            const yearDiffPercent = ((currYearLast/prevYearLast-1)*100).toFixed(1);
            // –ö–≤–∞—Ä—Ç–∞–ª—ã: Q2 = –∞–ø—Ä-–∏—é–Ω, Q1 = —è–Ω–≤-–º–∞—Ä (–ø–æ —Ç–µ–∫—É—â–µ–º—É –≥–æ–¥—É)
            const prevQ = medianSalaryData.curr.slice(0,3).reduce((a,b)=>a+b,0)/3;
            const currQ = medianSalaryData.curr.slice(3,6).reduce((a,b)=>a+b,0)/3;
            const qDiff = currQ - prevQ;
            const qDiffPercent = ((currQ/prevQ-1)*100).toFixed(1);
            // –í—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
            const salaryInfo = document.getElementById('medianSalaryInfo');
            if (salaryInfo) {
                salaryInfo.innerHTML =
                    `<span class='small text-muted'>–ì–æ–¥ –∫ –≥–æ–¥—É: <span class='fw-semibold text-${yearDiff>0?'success':'danger'}'>${yearDiff>0?'+':''}${yearDiff.toLocaleString()}‚Ç∏ (${yearDiffPercent}%)</span></span>`+
                    `<span class='px-1 text-muted'>|</span>`+
                    `<span class='small text-muted'>Q2 –∫ Q1: <span class='fw-semibold text-${qDiff>0?'success':'danger'}'>${qDiff>0?'+':''}${qDiff.toLocaleString()}‚Ç∏ (${qDiffPercent}%)</span></span>`;
            }
        }
        // –§–û–¢
        if (document.getElementById('payrollChart')) {
            const ctx = document.getElementById('payrollChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'],
                    datasets: [{
                        label: '–§–û–¢',
                        data: [42000000, 43000000, 44000000, 44500000, 45000000, 45000000],
                        backgroundColor: '#1976f8',
                        borderRadius: 8
                    }]
                },
                options: { plugins: { legend: { display: false } }, scales: { y: { beginAtZero: false } } }
            });
        }
        // –ë—é–¥–∂–µ—Ç –Ω–∞ –ª—å–≥–æ—Ç—ã
        if (document.getElementById('benefitsChart')) {
            const ctx = document.getElementById('benefitsChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'],
                    datasets: [{
                        label: '–ë—é–¥–∂–µ—Ç –Ω–∞ –ª—å–≥–æ—Ç—ã',
                        data: [4800000, 4900000, 4950000, 5000000, 5000000, 5000000],
                        backgroundColor: '#00bcd4',
                        borderRadius: 8
                    }]
                },
                options: { plugins: { legend: { display: false } }, scales: { y: { beginAtZero: false } } }
            });
        }

        const salarySections = {
            employees: `
                <h3 class='mb-4'><i class="bi bi-people me-2"></i>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h3>
                <div class='card mb-4'>
                    <div class='card-header d-flex align-items-center justify-content-between'>
                        <span>–¢–∞–±–ª–∏—Ü–∞ –∑–∞—Ä–ø–ª–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</span>
                        <button class='btn btn-sm btn-outline-primary'><i class='bi bi-plus'></i> –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                    <div class='card-body p-0'>
                        <div class='table-responsive'>
                            <table class='table table-hover mb-0'>
                                <thead>
                                    <tr><th>–§–ò–û</th><th>–î–æ–ª–∂–Ω–æ—Å—Ç—å</th><th>–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ</th><th>–ó–∞—Ä–ø–ª–∞—Ç–∞</th><th>–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è</th><th></th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω</td><td>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</td><td>–ò–¢</td><td>‚Ç∏ 400,000</td><td>01.06.2024</td><td><button class='btn btn-sm btn-light'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button></td></tr>
                                    <tr><td>–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä</td><td>–ê–Ω–∞–ª–∏—Ç–∏–∫</td><td>–ë–∏–∑–Ω–µ—Å</td><td>‚Ç∏ 350,000</td><td>28.05.2024</td><td><button class='btn btn-sm btn-light'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `,
            ranges: `
                <h3 class='mb-4'><i class="bi bi-sliders me-2"></i>–í–∏–ª–∫–∏</h3>
                <div class='card'>
                    <div class='card-header'>–î–∏–∞–ø–∞–∑–æ–Ω—ã –∑–∞—Ä–ø–ª–∞—Ç –ø–æ –≥—Ä–µ–π–¥–∞–º</div>
                    <div class='card-body'>
                        <div class='table-responsive'>
                            <table class='table table-bordered'>
                                <thead><tr><th>–ì—Ä–µ–π–¥</th><th>–ú–∏–Ω–∏–º—É–º</th><th>–ú–∞–∫—Å–∏–º—É–º</th></tr></thead>
                                <tbody>
                                    <tr><td>Junior</td><td>‚Ç∏ 200,000</td><td>‚Ç∏ 300,000</td></tr>
                                    <tr><td>Middle</td><td>‚Ç∏ 300,000</td><td>‚Ç∏ 450,000</td></tr>
                                    <tr><td>Senior</td><td>‚Ç∏ 450,000</td><td>‚Ç∏ 700,000</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `,
            benchmarks: `
                <h3 class='mb-4'><i class="bi bi-bar-chart-line me-2"></i>–ë–µ–Ω—á–º–∞—Ä–∫–∏</h3>
                <div class='card'>
                    <div class='card-body pb-2'>
                        <form class='row g-2 align-items-end mb-3' id='benchmarksFilters'>
                            <div class='col-md-3'>
                                <label class='form-label mb-1'>–õ–æ–∫–∞—Ü–∏—è</label>
                                <select class='form-select form-select-sm' id='benchLocation'>
                                    <option value=''>–í—Å–µ</option>
                                    <option value='–ú–æ—Å–∫–≤–∞'>–ú–æ—Å–∫–≤–∞</option>
                                    <option value='–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'>–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                                    <option value='–ö–∞–∑–∞–Ω—å'>–ö–∞–∑–∞–Ω—å</option>
                                    <option value='–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥'>–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                                    <option value='–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫'>–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                                </select>
                            </div>
                            <div class='col-md-3'>
                                <label class='form-label mb-1'>–°–µ–∫—Ç–æ—Ä</label>
                                <select class='form-select form-select-sm' id='benchSector'>
                                    <option value=''>–í—Å–µ</option>
                                    <option value='IT'>IT</option>
                                    <option value='–§–∏–Ω–∞–Ω—Å—ã'>–§–∏–Ω–∞–Ω—Å—ã</option>
                                    <option value='–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥'>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</option>
                                    <option value='HR'>HR</option>
                                </select>
                            </div>
                            <div class='col-md-2'>
                                <label class='form-label mb-1'>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
                                <select class='form-select form-select-sm' id='benchSpecialization'>
                                    <option value=''>–í—Å–µ</option>
                                    <option value='Frontend'>Frontend</option>
                                    <option value='Backend'>Backend</option>
                                    <option value='QA'>QA</option>
                                    <option value='Product'>Product</option>
                                    <option value='DevOps'>DevOps</option>
                                </select>
                            </div>
                            <div class='col-md-2'>
                                <label class='form-label mb-1'>–ì—Ä–µ–π–¥</label>
                                <select class='form-select form-select-sm' id='benchGrade'>
                                    <option value=''>–í—Å–µ</option>
                                    <option value='Junior'>Junior</option>
                                    <option value='Middle'>Middle</option>
                                    <option value='Senior'>Senior</option>
                                    <option value='Lead'>Lead</option>
                                </select>
                            </div>
                            <div class='col-md-2'>
                                <label class='form-label mb-1'>–í–∞–ª—é—Ç–∞</label>
                                <select class='form-select form-select-sm' id='benchCurrency'>
                                    <option value='RUB'>RUB</option>
                                    <option value='USD'>USD</option>
                                    <option value='KZT'>KZT</option>
                                </select>
                            </div>
                        </form>
                    </div>
                </div>
                <div class='card'>
                    <div class='card-header'>–ì—Ä–∞—Ñ–∏–∫ –º–µ–¥–∏–∞–Ω</div>
                    <div class='card-body'>
                        <canvas id='benchmarksChart' height='120'></canvas>
                    </div>
                </div>
                <div class='card'>
                    <div class='card-header'>–¢–∞–±–ª–∏—Ü–∞ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤</div>
                    <div class='card-body p-0'>
                        <div class='table-responsive'>
                            <table class='table table-hover table-striped table-sm mb-0'>
                                <thead>
                                    <tr>
                                        <th>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</th>
                                        <th>–ì—Ä–µ–π–¥</th>
                                        <th>–ú–∏–Ω. –ó–ü</th>
                                        <th>–ú–∞–∫—Å. –ó–ü</th>
                                        <th>–ú–∏–Ω. –∑–∞–ø—Ä–æ—Å</th>
                                        <th>–ú–∞–∫—Å. –∑–∞–ø—Ä–æ—Å</th>
                                    </tr>
                                </thead>
                                <tbody id='benchmarksTableBody'>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Junior</td>
                                        <td>80000</td>
                                        <td>120000</td>
                                        <td>100000</td>
                                        <td>150000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Junior+</td>
                                        <td>100000</td>
                                        <td>150000</td>
                                        <td>120000</td>
                                        <td>180000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Middle</td>
                                        <td>150000</td>
                                        <td>250000</td>
                                        <td>180000</td>
                                        <td>300000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Middle+</td>
                                        <td>200000</td>
                                        <td>300000</td>
                                        <td>250000</td>
                                        <td>350000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Senior</td>
                                        <td>250000</td>
                                        <td>400000</td>
                                        <td>300000</td>
                                        <td>500000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Senior+</td>
                                        <td>300000</td>
                                        <td>500000</td>
                                        <td>350000</td>
                                        <td>600000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Lead</td>
                                        <td>400000</td>
                                        <td>600000</td>
                                        <td>450000</td>
                                        <td>700000</td>
                                    </tr>
                                    <tr>
                                        <td>Frontend</td>
                                        <td>Head</td>
                                        <td>500000</td>
                                        <td>800000</td>
                                        <td>600000</td>
                                        <td>900000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Junior</td>
                                        <td>90000</td>
                                        <td>130000</td>
                                        <td>110000</td>
                                        <td>160000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Junior+</td>
                                        <td>110000</td>
                                        <td>160000</td>
                                        <td>130000</td>
                                        <td>190000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Middle</td>
                                        <td>160000</td>
                                        <td>260000</td>
                                        <td>190000</td>
                                        <td>310000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Middle+</td>
                                        <td>210000</td>
                                        <td>310000</td>
                                        <td>260000</td>
                                        <td>360000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Senior</td>
                                        <td>260000</td>
                                        <td>410000</td>
                                        <td>310000</td>
                                        <td>510000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Senior+</td>
                                        <td>310000</td>
                                        <td>510000</td>
                                        <td>360000</td>
                                        <td>610000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Lead</td>
                                        <td>410000</td>
                                        <td>610000</td>
                                        <td>460000</td>
                                        <td>710000</td>
                                    </tr>
                                    <tr>
                                        <td>Backend</td>
                                        <td>Head</td>
                                        <td>510000</td>
                                        <td>810000</td>
                                        <td>610000</td>
                                        <td>910000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Junior</td>
                                        <td>70000</td>
                                        <td>110000</td>
                                        <td>90000</td>
                                        <td>140000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Junior+</td>
                                        <td>90000</td>
                                        <td>140000</td>
                                        <td>110000</td>
                                        <td>170000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Middle</td>
                                        <td>140000</td>
                                        <td>240000</td>
                                        <td>170000</td>
                                        <td>290000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Middle+</td>
                                        <td>190000</td>
                                        <td>290000</td>
                                        <td>240000</td>
                                        <td>340000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Senior</td>
                                        <td>240000</td>
                                        <td>390000</td>
                                        <td>290000</td>
                                        <td>490000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Senior+</td>
                                        <td>290000</td>
                                        <td>490000</td>
                                        <td>340000</td>
                                        <td>590000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Lead</td>
                                        <td>390000</td>
                                        <td>590000</td>
                                        <td>440000</td>
                                        <td>690000</td>
                                    </tr>
                                    <tr>
                                        <td>QA</td>
                                        <td>Head</td>
                                        <td>490000</td>
                                        <td>790000</td>
                                        <td>590000</td>
                                        <td>890000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Junior</td>
                                        <td>100000</td>
                                        <td>140000</td>
                                        <td>120000</td>
                                        <td>170000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Junior+</td>
                                        <td>120000</td>
                                        <td>170000</td>
                                        <td>140000</td>
                                        <td>200000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Middle</td>
                                        <td>170000</td>
                                        <td>270000</td>
                                        <td>200000</td>
                                        <td>320000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Middle+</td>
                                        <td>220000</td>
                                        <td>320000</td>
                                        <td>270000</td>
                                        <td>370000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Senior</td>
                                        <td>270000</td>
                                        <td>420000</td>
                                        <td>320000</td>
                                        <td>520000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Senior+</td>
                                        <td>320000</td>
                                        <td>520000</td>
                                        <td>370000</td>
                                        <td>620000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Lead</td>
                                        <td>420000</td>
                                        <td>620000</td>
                                        <td>470000</td>
                                        <td>720000</td>
                                    </tr>
                                    <tr>
                                        <td>Product</td>
                                        <td>Head</td>
                                        <td>520000</td>
                                        <td>820000</td>
                                        <td>620000</td>
                                        <td>920000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Junior</td>
                                        <td>95000</td>
                                        <td>135000</td>
                                        <td>115000</td>
                                        <td>165000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Junior+</td>
                                        <td>115000</td>
                                        <td>165000</td>
                                        <td>135000</td>
                                        <td>195000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Middle</td>
                                        <td>165000</td>
                                        <td>265000</td>
                                        <td>195000</td>
                                        <td>315000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Middle+</td>
                                        <td>215000</td>
                                        <td>315000</td>
                                        <td>265000</td>
                                        <td>365000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Senior</td>
                                        <td>265000</td>
                                        <td>415000</td>
                                        <td>315000</td>
                                        <td>515000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Senior+</td>
                                        <td>315000</td>
                                        <td>515000</td>
                                        <td>365000</td>
                                        <td>615000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Lead</td>
                                        <td>415000</td>
                                        <td>615000</td>
                                        <td>465000</td>
                                        <td>715000</td>
                                    </tr>
                                    <tr>
                                        <td>DevOps</td>
                                        <td>Head</td>
                                        <td>515000</td>
                                        <td>815000</td>
                                        <td>615000</td>
                                        <td>915000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `,
            vacancies: '',
            report: `
                <h3 class='mb-4'><i class="bi bi-file-earmark-bar-graph me-2"></i>–û–±—â–∏–π –æ—Ç—á–µ—Ç</h3>
                <div class='card'>
                    <div class='card-header'>–°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º</div>
                    <div class='card-body'>
                        <form class='row g-2 mb-3'>
                            <div class='col-md-3'><input type='text' class='form-control' placeholder='–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è'></div>
                            <div class='col-md-2'><input type='text' class='form-control' placeholder='–ì—Ä–µ–π–¥'></div>
                            <div class='col-md-3'><input type='text' class='form-control' placeholder='–õ–æ–∫–∞—Ü–∏—è'></div>
                            <div class='col-md-2'><button class='btn btn-primary w-100' type='button'>–¢–æ–ª—å–∫–æ –†–ë</button></div>
                            <div class='col-md-2'><button class='btn btn-outline-primary w-100' type='button'>–ü–æ–∏—Å–∫</button></div>
                        </form>
                        <ul class='nav nav-tabs mb-3' id='pivotTabs' role='tablist'>
                            <li class='nav-item' role='presentation'>
                                <button class='nav-link active' id='summary-tab' data-bs-toggle='tab' data-bs-target='#summary' type='button' role='tab'>–°–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</button>
                            </li>
                            <li class='nav-item' role='presentation'>
                                <button class='nav-link' id='infograph-tab' data-bs-toggle='tab' data-bs-target='#infograph' type='button' role='tab'>–ò–Ω—Ñ–æ-–≥—Ä–∞—Ñ–∏–∫–∏</button>
                            </li>
                        </ul>
                        <div class='tab-content'>
                            <div class='tab-pane fade show active' id='summary' role='tabpanel'>
                                <div class='table-responsive'>
                                    <table class='table table-bordered'>
                                        <thead><tr><th>Geo</th><th>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</th><th>–ì—Ä–µ–π–¥</th><th>–ú–∏–Ω–∏–º—É–º (gross)</th><th>–ú–∞–∫—Å–∏–º—É–º (gross)</th><th>–ú–µ–¥–∏–∞–Ω–∞ —Ä—ã–Ω–∫–∞ (gross)</th><th>–í–∞–ª—é—Ç–∞</th></tr></thead>
                                        <tbody>
                                            <tr><td>Georgia</td><td></td><td></td><td>200000</td><td>300000</td><td>250000</td><td>KZT</td></tr>
                                            <tr><td>U.S.</td><td></td><td></td><td>80000</td><td>174419</td><td>116279</td><td>RUB</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class='tab-pane fade' id='infograph' role='tabpanel'>
                                <div class='alert alert-secondary'>–ó–¥–µ—Å—å –±—É–¥—É—Ç –∏–Ω—Ñ–æ-–≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.</div>
                            </div>
                        </div>
                    </div>
                </div>
            `,
            settings: `
              <h3 class='mb-4'><i class="bi bi-gear me-2"></i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ C&B</h3>
              <div class='card mb-3'>
                <div class='card-body'>
                  <form id='cbSettingsForm'>
                    <div class='mb-3'>
                      <label class='form-label'>–õ–æ–∫–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞</label>
                      <select class='form-select form-select-sm' id='cbLocations' multiple>
                        <option value='–ú–æ—Å–∫–≤–∞'>–ú–æ—Å–∫–≤–∞</option>
                        <option value='–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'>–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                        <option value='–ö–∞–∑–∞–Ω—å'>–ö–∞–∑–∞–Ω—å</option>
                        <option value='–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥'>–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                        <option value='–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫'>–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                      </select>
                    </div>
                    <div class='mb-3'>
                      <label class='form-label'>–ü—Ä–æ–º–ø—Ç –¥–ª—è –ò–ò</label>
                      <textarea class='form-control form-control-sm' id='cbAIPrompt' rows='2' placeholder='–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –ø–æ–º–æ—â—å—é –ò–ò'></textarea>
                    </div>
                    <div class='mb-3'>
                      <label class='form-label'>–í–∞–ª—é—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
                      <select class='form-select form-select-sm' id='cbDefaultCurrency'>
                        <option value='RUB'>RUB</option>
                        <option value='USD'>USD</option>
                        <option value='KZT'>KZT</option>
                      </select>
                    </div>
                    <div class='mb-3 row'>
                      <div class='col-md-6'>
                        <label class='form-label'>–ü–µ—Ä–∏–æ–¥ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ (–º–µ—Å.)</label>
                        <input type='number' class='form-control form-control-sm' id='cbActivePeriod' min='1' max='60' value='12'>
                      </div>
                      <div class='col-md-6'>
                        <label class='form-label'>–ü–µ—Ä–∏–æ–¥ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏–≤–µ (–º–µ—Å.)</label>
                        <input type='number' class='form-control form-control-sm' id='cbArchivePeriod' min='1' max='120' value='36'>
                      </div>
                    </div>
                    <div class='mb-3 row'>
                      <div class='col-md-4'>
                        <label class='form-label'>–§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞</label>
                        <select class='form-select form-select-sm' id='cbSalaryFormula'>
                          <option value='gross'>Gross (–±—Ä—É—Ç—Ç–æ) –∏–∑ Net</option>
                          <option value='net'>Net (–Ω–µ—Ç—Ç–æ) –∏–∑ Gross</option>
                        </select>
                      </div>
                      <div class='col-md-8'>
                        <label class='form-label'>–§–æ—Ä–º—É–ª–∞</label>
                        <div class='input-group'>
                          <span class='input-group-text' id='formulaLabel'>Gross =</span>
                          <input type='text' class='form-control form-control-sm' id='cbCustomFormula' placeholder='–ù–∞–ø—Ä–∏–º–µ—Ä: Net / 0.87' style='font-family:monospace;'>
                          <button type='button' class='btn btn-outline-secondary btn-sm' id='insertVarBtn' tabindex='-1'>–í—Å—Ç–∞–≤–∏—Ç—å Net</button>
                        </div>
                        <div id='cbFormulaExample' class='form-text mt-1'></div>
                        <div id='cbFormulaTable' class='mt-2'></div>
                      </div>
                    </div>
                    <button type='button' class='btn btn-primary btn-sm' id='saveCbSettings'>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                  </form>
                </div>
              </div>
            `,
            archive: ''
        };
        function renderSalarySection(section) {
          document.querySelectorAll('#salaryMenu .list-group-item').forEach(item => item.classList.remove('active'));
          const activeBtn = document.querySelector(`#salaryMenu .list-group-item[data-section="${section}"]`);
          if (activeBtn) activeBtn.classList.add('active');
          document.getElementById('salaryMainContent').innerHTML = salarySections[section];
          window.scrollTo({top: 0, behavior: 'smooth'});
          if(section === 'vacancies' && window.initVacanciesSection) window.initVacanciesSection();
          if(section === 'archive' && window.initArchiveSection) window.initArchiveSection();
          if(section === 'settings' && window.initSettingsSection) window.initSettingsSection();
          if(section === 'benchmarks' && window.initBenchmarksSection) window.initBenchmarksSection();
        }
        // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é —Ä–µ–Ω–¥–µ—Ä —Ä–∞–∑–¥–µ–ª–∞ '–í–Ω–µ—à–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏'
        salarySections.vacancies = '';
        // --- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ?section=... –≤ URL –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ ---
        function setSectionInUrl(section) {
          const url = new URL(window.location);
          url.searchParams.set('section', section);
          window.history.replaceState({}, '', url);
        }
        function getSectionFromUrl() {
          const url = new URL(window.location);
          return url.searchParams.get('section');
        }
        // –£–¥–∞–ª—è—é salarySections.archive –∏ –ø–∞—Ç—á—É —Ñ—É–Ω–∫—Ü–∏—é —Ä–µ–Ω–¥–µ—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞
        if (salarySections && salarySections.archive) delete salarySections.archive;

        function renderSalarySectionPatched(section) {
          window.currentSection = section;
          setSectionInUrl(section);
          document.querySelectorAll('#salaryMenu .list-group-item').forEach(item => item.classList.remove('active'));
          const activeBtn = document.querySelector(`#salaryMenu .list-group-item[data-section="${section}"]`);
          if (activeBtn) activeBtn.classList.add('active');
          if (section === 'vacancies') {
            renderVacanciesTable(1);
          } else if (section === 'archive') {
            renderArchivedTable(1);
          } else {
            document.getElementById('salaryMainContent').innerHTML = salarySections[section];
          }
          window.scrollTo({top: 0, behavior: 'smooth'});
          if(section === 'benchmarks' && window.Chart) {
            setTimeout(()=>{
              const ctx = document.getElementById('benchmarksChart').getContext('2d');
              new Chart(ctx, {
                type: 'line',
                data: {
                  labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'],
                  datasets: [
                    {label:'–ö–æ–º–ø–∞–Ω–∏—è',data:[400000,420000,430000,440000,450000,455000],borderColor:'#1976f8',backgroundColor:'rgba(25,118,248,0.08)',tension:0.4,fill:true},
                    {label:'–†—ã–Ω–æ–∫',data:[410000,415000,420000,430000,440000,450000],borderColor:'#43a047',backgroundColor:'rgba(67,160,71,0.08)',tension:0.4,fill:true}
                  ]
                },
                options: {plugins:{legend:{display:true}},scales:{y:{beginAtZero:false}}}
              });
            }, 100);
          }
        }
        // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ–Ω—é
        Array.from(document.querySelectorAll('#salaryMenu .list-group-item')).forEach(item => {
          item.removeEventListener && item.removeEventListener('click', item._salaryClickHandler);
          item._salaryClickHandler = function() { renderSalarySectionPatched(this.dataset.section); };
          item.addEventListener('click', item._salaryClickHandler);
        });
        window.renderSalarySection = renderSalarySectionPatched;
        // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
        const sectionFromUrl = getSectionFromUrl();
        window.currentSection = sectionFromUrl || 'employees';
        renderSalarySectionPatched(sectionFromUrl || 'employees');

        // –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π —Ñ–æ—Ä–º –º–æ–¥–∞–ª–∫–∏:
        ['addVacancyFormText','addVacancyFormFile','addVacancyFormLink','addVacancyFormTable'].forEach(function(formId) {
          const form = document.getElementById(formId);
          if (form && !form._submitHandler) {
            form._submitHandler = true;
            form.addEventListener('submit', function(e) {
              e.preventDefault();
              const modal = bootstrap.Modal.getOrCreateInstance(document.getElementById('addVacancyModal'));
              modal.hide();
              setTimeout(()=>{
                const url = new URL(window.location);
                url.search = '';
                url.searchParams.set('section', getSectionFromUrl() || 'employees');
                window.location.href = url.pathname + '?' + url.searchParams.toString();
              }, 300);
            });
          }
        });

        document.addEventListener('submit', function(e) {
          if (
            e.target.id === 'addVacancyFormText' ||
            e.target.id === 'addVacancyFormFile' ||
            e.target.id === 'addVacancyFormLink' ||
            e.target.id === 'addVacancyFormTable'
          ) {
            e.preventDefault();
            const modal = bootstrap.Modal.getOrCreateInstance(document.getElementById('addVacancyModal'));
            modal.hide();
            setTimeout(()=>{
              const url = new URL(window.location);
              url.search = '';
              url.searchParams.set('section', getSectionFromUrl() || 'employees');
              window.location.href = url.pathname + '?' + url.searchParams.toString();
            }, 300);
          }
        });


        // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é renderSection –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ä—Ö–∏–≤–∞
        function renderSection(section) {
          switch(section) {
            case 'employees':
              renderEmployeesTable();
              break;
            case 'ranges':
              renderRangesTable();
              break;
            case 'benchmarks':
              renderBenchmarksTable();
              break;
            case 'vacancies':
              renderVacanciesTable();
              break;
            case 'report':
              renderReport();
              break;
            case 'settings':
              renderSettings();
              break;
            case 'archive':
              renderArchivedTable();
              break;
            default:
              renderDashboard();
          }
        }

        // –í —Ñ—É–Ω–∫—Ü–∏–∏ renderSidebar –¥–æ–±–∞–≤–ª—è–µ–º –ø—É–Ω–∫—Ç –º–µ–Ω—é "–ê—Ä—Ö–∏–≤"
        function renderSidebar() {
          const currentSection = new URLSearchParams(window.location.search).get('section') || 'dashboard';
          document.getElementById('salarySidebar').innerHTML = `
            <div class='d-flex flex-column h-100'>
              <div class='p-3'>
                <h5 class='mb-3'>C&B</h5>
                <div class='nav flex-column nav-pills'>
                  <a class='nav-link ${currentSection === 'dashboard' ? 'active' : ''}' href='?section=dashboard'>
                    <i class='bi bi-speedometer2 me-2'></i>–î–∞—à–±–æ—Ä–¥
                  </a>
                  <a class='nav-link ${currentSection === 'employees' ? 'active' : ''}' href='?section=employees'>
                    <i class='bi bi-people me-2'></i>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
                  </a>
                  <a class='nav-link ${currentSection === 'ranges' ? 'active' : ''}' href='?section=ranges'>
                    <i class='bi bi-graph-up me-2'></i>–í–∏–ª–∫–∏
                  </a>
                  <a class='nav-link ${currentSection === 'benchmarks' ? 'active' : ''}' href='?section=benchmarks'>
                    <i class='bi bi-bar-chart me-2'></i>–ë–µ–Ω—á–º–∞—Ä–∫–∏
                  </a>
                  <a class='nav-link ${currentSection === 'vacancies' ? 'active' : ''}' href='?section=vacancies'>
                    <i class='bi bi-briefcase me-2'></i>–í–Ω–µ—à–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
                  </a>
                  <a class='nav-link ${currentSection === 'report' ? 'active' : ''}' href='?section=report'>
                    <i class='bi bi-file-earmark-text me-2'></i>–û–±—â–∏–π –æ—Ç—á–µ—Ç
                  </a>
                  <a class='nav-link ${currentSection === 'settings' ? 'active' : ''}' href='?section=settings'>
                    <i class='bi bi-gear me-2'></i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏
                  </a>
                  <a class='nav-link ${currentSection === 'archive' ? 'active' : ''}' href='?section=archive'>
                    <i class='bi bi-archive me-2'></i>–ê—Ä—Ö–∏–≤
                  </a>
                </div>
              </div>
            </div>
          `;
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ popstate –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ä—Ö–∏–≤–∞
        window.addEventListener('popstate', function() {
          const section = new URLSearchParams(window.location.search).get('section') || 'dashboard';
          renderSection(section);
          renderSidebar();
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —Å—Å—ã–ª–∫–∞–º –≤ —Å–∞–π–¥–±–∞—Ä–µ
        document.addEventListener('click', function(e) {
          if (e.target.closest('#salarySidebar .nav-link')) {
            e.preventDefault();
            const section = new URLSearchParams(e.target.closest('.nav-link').href.split('?')[1]).get('section') || 'dashboard';
            window.history.pushState({}, '', `?section=${section}`);
            renderSection(section);
            renderSidebar();
          }
        });

        // 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ id –≤ archivedVacanciesData —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å id –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –≤–∞–∫–∞–Ω—Å–∏–π (–æ—Å—Ç–∞–≤–ª—è—é —Ñ–æ—Ä–º–∞—Ç 'source-id')
        // 2. –í renderArchivedTable –¥–æ–±–∞–≤–ª—è—é –ø–∞–≥–∏–Ω–∞—Ü–∏—é:
        function renderPagination(page, totalPages, onPageClick) {
          if (totalPages <= 1) return '';
          let html = `<nav class='d-flex justify-content-center mt-3'><ul class='pagination pagination-sm mb-0'>`;
          if (page > 1) {
            html += `<li class='page-item'><a class='page-link archived-page-link' href='#' data-page='${page-1}'>–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a></li>`;
          }
          for (let i = 1; i <= totalPages; i++) {
            html += `<li class='page-item${i === page ? ' active' : ''}'><a class='page-link archived-page-link' href='#' data-page='${i}'>${i}</a></li>`;
          }
          if (page < totalPages) {
            html += `<li class='page-item'><a class='page-link archived-page-link' href='#' data-page='${page+1}'>–°–ª–µ–¥—É—é—â–∞—è</a></li>`;
          }
          html += `</ul></nav>`;
          return html;
        }
        // –í renderArchivedTable –ø–æ—Å–ª–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ–±–∞–≤–ª—è—é:
        // + renderPagination(page, totalPages, (p) => renderArchivedTable(p, perPage, search, channel))
        // –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ document.addEventListener('click', ...) –¥–æ–±–∞–≤–ª—è—é –æ–±—Ä–∞–±–æ—Ç–∫—É .archived-page-link:
        document.addEventListener('click', function(e) {
          // ...
          if (e.target.classList.contains('archived-page-link')) {
            e.preventDefault();
            const page = +e.target.dataset.page;
            renderArchivedTable(page);
          }
          // ...
        });

        // --- –î–ê–ù–ù–´–ï –î–õ–Ø –ì–†–ê–§–ò–ö–ê ---
        const benchmarkChartData = [
          // Frontend
          { specialization: 'Frontend', grade: 'Junior', filterMedian: 80000, companyMedian: 75000, marketMedian: 85000, candidateMedian: 90000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Junior+', filterMedian: 100000, companyMedian: 95000, marketMedian: 110000, candidateMedian: 120000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Middle', filterMedian: 150000, companyMedian: 145000, marketMedian: 160000, candidateMedian: 170000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Middle+', filterMedian: 200000, companyMedian: 190000, marketMedian: 210000, candidateMedian: 220000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Senior', filterMedian: 250000, companyMedian: 240000, marketMedian: 260000, candidateMedian: 270000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Senior+', filterMedian: 300000, companyMedian: 290000, marketMedian: 310000, candidateMedian: 320000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Lead', filterMedian: 400000, companyMedian: 390000, marketMedian: 410000, candidateMedian: 420000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          { specialization: 'Frontend', grade: 'Head', filterMedian: 500000, companyMedian: 490000, marketMedian: 510000, candidateMedian: 520000, sector: 'IT', location: '–ú–æ—Å–∫–≤–∞', currency: 'RUB' },
          // Backend
          { specialization: 'Backend', grade: 'Junior', filterMedian: 90000, companyMedian: 85000, marketMedian: 95000, candidateMedian: 100000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Junior+', filterMedian: 110000, companyMedian: 105000, marketMedian: 120000, candidateMedian: 130000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Middle', filterMedian: 160000, companyMedian: 155000, marketMedian: 165000, candidateMedian: 170000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Middle+', filterMedian: 210000, companyMedian: 200000, marketMedian: 220000, candidateMedian: 230000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Senior', filterMedian: 260000, companyMedian: 250000, marketMedian: 270000, candidateMedian: 280000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Senior+', filterMedian: 310000, companyMedian: 300000, marketMedian: 320000, candidateMedian: 330000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Lead', filterMedian: 410000, companyMedian: 400000, marketMedian: 420000, candidateMedian: 430000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Backend', grade: 'Head', filterMedian: 510000, companyMedian: 500000, marketMedian: 520000, candidateMedian: 530000, sector: 'IT', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', currency: 'RUB' },
          // QA
          { specialization: 'QA', grade: 'Junior', filterMedian: 70000, companyMedian: 65000, marketMedian: 75000, candidateMedian: 80000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Junior+', filterMedian: 90000, companyMedian: 85000, marketMedian: 95000, candidateMedian: 100000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Middle', filterMedian: 140000, companyMedian: 135000, marketMedian: 145000, candidateMedian: 150000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Middle+', filterMedian: 190000, companyMedian: 180000, marketMedian: 200000, candidateMedian: 210000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Senior', filterMedian: 240000, companyMedian: 235000, marketMedian: 245000, candidateMedian: 250000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Senior+', filterMedian: 290000, companyMedian: 280000, marketMedian: 300000, candidateMedian: 310000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Lead', filterMedian: 390000, companyMedian: 380000, marketMedian: 400000, candidateMedian: 410000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          { specialization: 'QA', grade: 'Head', filterMedian: 490000, companyMedian: 480000, marketMedian: 500000, candidateMedian: 510000, sector: 'IT', location: '–ö–∞–∑–∞–Ω—å', currency: 'RUB' },
          // Product
          { specialization: 'Product', grade: 'Junior', filterMedian: 100000, companyMedian: 95000, marketMedian: 105000, candidateMedian: 110000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Junior+', filterMedian: 120000, companyMedian: 115000, marketMedian: 130000, candidateMedian: 140000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Middle', filterMedian: 170000, companyMedian: 165000, marketMedian: 175000, candidateMedian: 180000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Middle+', filterMedian: 220000, companyMedian: 210000, marketMedian: 230000, candidateMedian: 240000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Senior', filterMedian: 270000, companyMedian: 265000, marketMedian: 275000, candidateMedian: 280000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Senior+', filterMedian: 320000, companyMedian: 310000, marketMedian: 330000, candidateMedian: 340000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Lead', filterMedian: 420000, companyMedian: 410000, marketMedian: 430000, candidateMedian: 440000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          { specialization: 'Product', grade: 'Head', filterMedian: 520000, companyMedian: 510000, marketMedian: 530000, candidateMedian: 540000, sector: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', location: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', currency: 'RUB' },
          // DevOps
          { specialization: 'DevOps', grade: 'Junior', filterMedian: 95000, companyMedian: 90000, marketMedian: 100000, candidateMedian: 105000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Junior+', filterMedian: 115000, companyMedian: 110000, marketMedian: 120000, candidateMedian: 125000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Middle', filterMedian: 165000, companyMedian: 160000, marketMedian: 170000, candidateMedian: 175000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Middle+', filterMedian: 215000, companyMedian: 210000, marketMedian: 220000, candidateMedian: 225000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Senior', filterMedian: 265000, companyMedian: 260000, marketMedian: 270000, candidateMedian: 275000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Senior+', filterMedian: 315000, companyMedian: 310000, marketMedian: 320000, candidateMedian: 325000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Lead', filterMedian: 415000, companyMedian: 410000, marketMedian: 420000, candidateMedian: 425000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' },
          { specialization: 'DevOps', grade: 'Head', filterMedian: 515000, companyMedian: 510000, marketMedian: 520000, candidateMedian: 525000, sector: 'IT', location: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', currency: 'RUB' }
        ];

        const chartColors = {
          filter: '#1976f8',
          company: '#43a047',
          market: '#fbc02d'
        };

        let chartInstance = null;

        function getSelectedFilters() {
          return {
            location: document.getElementById('benchLocation').value,
            sector: document.getElementById('benchSector').value,
            specialization: document.getElementById('benchSpecialization').value,
            grade: document.getElementById('benchGrade').value,
            currency: document.getElementById('benchCurrency').value
          };
        }

        function filterChartData() {
          const filters = getSelectedFilters();
          return benchmarkChartData.filter(row =>
            (!filters.specialization || row.specialization === filters.specialization) &&
            (!filters.sector || row.sector === filters.sector) &&
            (!filters.location || row.location === filters.location) &&
            (!filters.grade || row.grade === filters.grade) &&
            (!filters.currency || row.currency === filters.currency)
          );
        }

        function renderBenchmarksChart() {
          console.log('–†–µ–Ω–¥–µ—Ä –≥—Ä–∞—Ñ–∏–∫–∞ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤');
          const ctx = document.getElementById('benchmarksChart');
          if (!ctx) {
            console.warn('–≠–ª–µ–º–µ–Ω—Ç canvas –Ω–µ –Ω–∞–π–¥–µ–Ω');
            return;
          }

          const filtered = filterChartData();
          const labels = filtered.map(row => `${row.grade} ${row.specialization}`);
          const filterMedian = filtered.map(row => row.filterMedian);
          const companyMedian = filtered.map(row => row.companyMedian);
          const marketMedian = filtered.map(row => row.marketMedian);

          if (chartInstance) {
            console.log('–£–Ω–∏—á—Ç–æ–∂–∞–µ–º —Å—Ç–∞—Ä—ã–π –≥—Ä–∞—Ñ–∏–∫');
            chartInstance.destroy();
          }

          console.log('–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –≥—Ä–∞—Ñ–∏–∫');
          chartInstance = new Chart(ctx.getContext('2d'), {
            type: 'line',
            data: {
              labels,
              datasets: [
                {
                  label: '–ú–µ–¥–∏–∞–Ω–∞ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É',
                  data: filterMedian,
                  borderColor: chartColors.filter,
                  backgroundColor: chartColors.filter + '33',
                  fill: false,
                  tension: 0.3,
                  pointRadius: 4
                },
                {
                  label: '–ú–µ–¥–∏–∞–Ω–∞ –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏',
                  data: companyMedian,
                  borderColor: chartColors.company,
                  backgroundColor: chartColors.company + '33',
                  fill: false,
                  tension: 0.3,
                  pointRadius: 4
                },
                {
                  label: '–ú–µ–¥–∏–∞–Ω–∞ –ø–æ —Ä—ã–Ω–∫—É',
                  data: marketMedian,
                  borderColor: chartColors.market,
                  backgroundColor: chartColors.market + '33',
                  fill: false,
                  tension: 0.3,
                  pointRadius: 4
                }
              ]
            },
            options: {
              responsive: true,
              plugins: {
                legend: { display: true, position: 'top' },
                tooltip: { enabled: true }
              },
              scales: {
                y: { 
                  beginAtZero: true, 
                  title: { 
                    display: true, 
                    text: '–ó–∞—Ä–ø–ª–∞—Ç–∞' 
                  } 
                }
              }
            }
          });
        }

        // --- –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –§–ò–õ–¨–¢–†–û–í, –¢–ê–ë–õ–ò–¶–´ –ò –ì–†–ê–§–ò–ö–ê ---
        function updateBenchmarksView() {
          renderBenchmarksChart();
          renderBenchmarksTable();
        }

        document.addEventListener('DOMContentLoaded', function() {
          // –î–ª—è –º—É–ª—å—Ç–∏–≤—ã–±–æ—Ä–∞
          ['benchLocation','benchSector','benchSpecialization'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.setAttribute('multiple', 'multiple');
          });
          // –°–ª—É—à–∞—Ç–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
          ['benchLocation','benchSector','benchSpecialization','benchCurrency'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.addEventListener('change', updateBenchmarksView);
          });
          updateBenchmarksView();
        });

        function renderBenchmarksTable() {
          console.log('–†–µ–Ω–¥–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤');
          const filtered = filterChartData();
          const tbody = document.getElementById('benchmarksTableBody');
          if (!tbody) {
            console.warn('–≠–ª–µ–º–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã –Ω–µ –Ω–∞–π–¥–µ–Ω');
            return;
          }
          
          // –û—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É
          tbody.innerHTML = '';
          
          // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É
          filtered.forEach(row => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
              <td>${row.specialization}</td>
              <td>${row.grade}</td>
              <td>${row.filterMedian.toLocaleString()}</td>
              <td>${row.companyMedian.toLocaleString()}</td>
              <td>${row.marketMedian.toLocaleString()}</td>
              <td>${row.marketMedian.toLocaleString()}</td>
            `;
            tbody.appendChild(tr);
          });
          
          console.log('–¢–∞–±–ª–∏—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞, —Å—Ç—Ä–æ–∫:', filtered.length);
        }

        function initBenchmarksFilters() {
          console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤');
          ['benchLocation','benchSector','benchSpecialization','benchGrade','benchCurrency'].forEach(id => {
            const el = document.getElementById(id);
            if (el) {
              console.log(`–ù–∞–π–¥–µ–Ω —Ñ–∏–ª—å—Ç—Ä: ${id}`);
              // –£–±–∏—Ä–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
              if (el.hasAttribute('multiple')) {
                el.removeAttribute('multiple');
              }
              // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
              el.removeEventListener('change', updateBenchmarksView);
              // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
              el.addEventListener('change', function() {
                console.log(`–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ ${id}:`, this.value);
                updateBenchmarksView();
              });
            } else {
              console.warn(`–§–∏–ª—å—Ç—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω: ${id}`);
            }
          });
        }

        function updateBenchmarksView() {
          console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤');
          const filters = getSelectedFilters();
          console.log('–¢–µ–∫—É—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã:', filters);
          renderBenchmarksChart();
          renderBenchmarksTable();
        }

        function getSelectedFilters() {
          const filters = {
            location: document.getElementById('benchLocation')?.value || '',
            sector: document.getElementById('benchSector')?.value || '',
            specialization: document.getElementById('benchSpecialization')?.value || '',
            grade: document.getElementById('benchGrade')?.value || '',
            currency: document.getElementById('benchCurrency')?.value || ''
          };
          console.log('–ü–æ–ª—É—á–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã:', filters);
          return filters;
        }

        function filterChartData() {
          const filters = getSelectedFilters();
          console.log('–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:', filters);
          const filtered = benchmarkChartData.filter(row => {
            const matches = (!filters.specialization || row.specialization === filters.specialization) &&
                          (!filters.sector || row.sector === filters.sector) &&
                          (!filters.location || row.location === filters.location) &&
                          (!filters.grade || row.grade === filters.grade) &&
                          (!filters.currency || row.currency === filters.currency);
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫–∏:', row, '–†–µ–∑—É–ª—å—Ç–∞—Ç:', matches);
            return matches;
          });
          console.log('–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', filtered);
          return filtered;
        }

        // –ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ —Å–µ–∫—Ü–∏–∏ '–ë–µ–Ω—á–º–∞—Ä–∫–∏' –≤—ã–∑—ã–≤–∞–µ–º:
        // initBenchmarksFilters();
        // updateBenchmarksView();

        // –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é renderSalarySection –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é, –∏ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ salarySections['benchmarks'] –¥–æ–±–∞–≤—å—Ç–µ:
        // if(section === 'benchmarks') { initBenchmarksFilters(); updateBenchmarksView(); }
        // ...

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
          console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤');
          const section = new URLSearchParams(window.location.search).get('section') || 'dashboard';
          if (section === 'benchmarks') {
            console.log('–°–µ–∫—Ü–∏—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤ –∞–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ');
            setTimeout(() => {
              initBenchmarksFilters();
              updateBenchmarksView();
            }, 100);
          }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ–∫—Ü–∏–∏
        function renderSalarySection(section) {
          document.querySelectorAll('#salaryMenu .list-group-item').forEach(item => item.classList.remove('active'));
          const activeBtn = document.querySelector(`#salaryMenu .list-group-item[data-section="${section}"]`);
          if (activeBtn) activeBtn.classList.add('active');
          document.getElementById('salaryMainContent').innerHTML = salarySections[section];
          window.scrollTo({top: 0, behavior: 'smooth'});
          if(section === 'vacancies' && window.initVacanciesSection) window.initVacanciesSection();
          if(section === 'archive' && window.initArchiveSection) window.initArchiveSection();
          if(section === 'settings' && window.initSettingsSection) window.initSettingsSection();
          if(section === 'benchmarks' && window.initBenchmarksSection) window.initBenchmarksSection();
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –º–µ–Ω—é
        document.querySelectorAll('#salaryMenu .list-group-item').forEach(item => {
          item.addEventListener('click', function() {
            const section = this.dataset.section;
            console.log('–ö–ª–∏–∫ –ø–æ –º–µ–Ω—é:', section);
            renderSalarySection(section);
          });
        });

        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ù–ê–°–¢–†–û–ï–ö C&B —á–µ—Ä–µ–∑ MutationObserver ---
        (function() {
          let settingsInit = false;
          const grossExample = 'Net / 0.87';
          const netExample = 'Gross * 0.87';
          function tryInitSettingsForm() {
            if (settingsInit) return;
            const formulaSelect = document.getElementById('cbSalaryFormula');
            const formulaInput = document.getElementById('cbCustomFormula');
            const insertVarBtn = document.getElementById('insertVarBtn');
            const formulaLabel = document.getElementById('formulaLabel');
            const formulaExample = document.getElementById('cbFormulaExample');
            const formulaTable = document.getElementById('cbFormulaTable');
            if (!formulaSelect || !formulaInput || !insertVarBtn || !formulaLabel || !formulaExample || !formulaTable) return;
            settingsInit = true;
            function updateFormulaUI() {
              const mode = formulaSelect.value;
              if (mode === 'gross') {
                formulaLabel.textContent = 'Gross =';
                insertVarBtn.textContent = '–í—Å—Ç–∞–≤–∏—Ç—å Net';
                formulaInput.placeholder = '–ù–∞–ø—Ä–∏–º–µ—Ä: Net / 0.87';
                if (!formulaInput.value || formulaInput.value === netExample) {
                  formulaInput.value = grossExample;
                }
              } else {
                formulaLabel.textContent = 'Net =';
                insertVarBtn.textContent = '–í—Å—Ç–∞–≤–∏—Ç—å Gross';
                formulaInput.placeholder = '–ù–∞–ø—Ä–∏–º–µ—Ä: Gross * 0.87';
                if (!formulaInput.value || formulaInput.value === grossExample) {
                  formulaInput.value = netExample;
                }
              }
              updateFormulaExample();
            }
            formulaSelect.onchange = updateFormulaUI;
            insertVarBtn.onclick = function(e) {
              e.preventDefault();
              const mode = formulaSelect.value;
              const varName = mode === 'gross' ? 'Net' : 'Gross';
              const input = formulaInput;
              const start = input.selectionStart;
              const end = input.selectionEnd;
              const value = input.value;
              input.value = value.slice(0, start) + varName + value.slice(end);
              input.focus();
              input.setSelectionRange(start+varName.length, start+varName.length);
              updateFormulaExample();
            };
            formulaInput.oninput = updateFormulaExample;
            function updateFormulaExample() {
              const mode = formulaSelect.value;
              const raw = formulaInput.value;
              let example = '';
              let error = '';
              let result = '';
              let inputVar = 100000;
              let formulaVar = mode === 'gross' ? 'Net' : 'Gross';
              let outputVar = mode === 'gross' ? 'Gross' : 'Net';
              formulaInput.style.background = raw.includes(formulaVar) ? '' : '#ffeaea';
              try {
                if (!raw.includes(formulaVar)) throw `–§–æ—Ä–º—É–ª–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å ${formulaVar}`;
                result = Function(formulaVar, `return Number((${raw}).toFixed(2))`)(inputVar);
                if (!isFinite(result)) throw '–û—à–∏–±–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è';
              } catch(e) {
                error = typeof e==='string'?e:'–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º—É–ª—ã';
              }
              if (error) {
                example = `<span class='text-danger'>${error}</span>`;
                formulaTable.innerHTML = '';
              } else {
                example = `<span class='text-muted'>–ü—Ä–∏–º–µ—Ä: ${formulaVar} = 100000 ‚Üí ${outputVar} = <b>${result}</b></span>`;
                const values = [50000, 100000, 200000];
                let table = `<table class='table table-sm table-bordered w-auto mt-2'><thead><tr><th>${formulaVar}</th><th>${outputVar}</th></tr></thead><tbody>`;
                for (const v of values) {
                  let r = '';
                  try {
                    r = Function(formulaVar, `return Number((${raw}).toFixed(2))`)(v);
                    if (!isFinite(r)) r = '–û—à–∏–±–∫–∞';
                  } catch {
                    r = '–û—à–∏–±–∫–∞';
                  }
                  table += `<tr><td>${v}</td><td>${r}</td></tr>`;
                }
                table += '</tbody></table>';
                formulaTable.innerHTML = table;
              }
              formulaExample.innerHTML = example;
            }
            updateFormulaUI();
          }
          const observer = new MutationObserver(() => {
            if (document.getElementById('cbSalaryFormula')) {
              tryInitSettingsForm();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true });
        })();

        // ... existing code ...
        function renderVacanciesTable(page = 1, perPage = 10, search = '', channel = '') {
          if (typeof page === 'undefined') page = 1;
          let filtered = externalVacanciesData.filter(v => {
            const q = search.trim().toLowerCase();
            if (channel && v.source !== channel) return false;
            if (!q) return true;
            return (
              (v.source ? v.source + '-' : '') + v.id
            ).toLowerCase().includes(q) ||
              v.title.toLowerCase().includes(q) ||
              v.location.toLowerCase().includes(q) ||
              v.company.toLowerCase().includes(q);
          });
          const total = filtered.length;
          const totalPages = Math.ceil(total / perPage);
          const start = (page - 1) * perPage;
          const end = start + perPage;
          const items = filtered.slice(start, end);
          document.getElementById('salaryMainContent').innerHTML = `
            <div class='d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2'>
              <h3 class='mb-0'><i class="bi bi-briefcase me-2"></i>–í–Ω–µ—à–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ <span class='text-muted fs-6'>(${total})</span></h3>
              <div class='d-flex gap-2'>
                <button class='btn btn-sm btn-outline-primary' data-bs-toggle='modal' data-bs-target='#addVacancyModal'>
                  <i class='bi bi-plus'></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
                </button>
                <select class='form-select form-select-sm' id='vacancyChannelSelect' style='width:160px; min-width:120px; height:32px;'>
                  <option value=''>–í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏</option>
                  <option value='hh'>HeadHunter</option>
                  <option value='ln'>LinkedIn</option>
                  <option value='tg'>Telegram</option>
                  <option value='ex'>–î—Ä—É–≥–æ–µ</option>
                </select>
                <input type='text' class='form-control form-control-sm vacancy-search-input' style='width:160px; height:32px; font-size:0.98rem;' placeholder='–ü–æ–∏—Å–∫...' id='vacancySearchInput' value='${search.replace(/'/g, "&#39;")}' autocomplete='off' />
              </div>
            </div>
            <div class='table-responsive'>
              <table class='table table-hover align-middle small p-0' style='font-size:0.92rem;'>
                <thead class='table-light'>
                  <tr>
                    <th style='width: 100px'>ID</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–õ–æ–∫–∞—Ü–∏—è</th>
                    <th>–ó–ü –æ—Ç</th>
                    <th>–ó–ü –¥–æ</th>
                    <th>–í–∞–ª—é—Ç–∞</th>
                    <th>–î–æ–±–∞–≤–ª–µ–Ω–æ</th>
                    <th style='width: 100px'>–î–µ–π—Å—Ç–≤–∏–µ</th>
                  </tr>
                </thead>
                <tbody>
                  ${items.map(v => `
                    <tr>
                      <td class='text-muted'>${v.id}</td>
                      <td>
                        <div class='fw-medium'>${v.title}</div>
                        <div class='text-muted small'>${v.company}</div>
                      </td>
                      <td>${v.location}</td>
                      <td>${v.salary_from?.toLocaleString() || '-'}</td>
                      <td>${v.salary_to?.toLocaleString() || '-'}</td>
                      <td>${v.currency || 'RUB'}</td>
                      <td class='text-muted'>${formatTime(v.added_at)}</td>
                      <td>
                        <button class='btn btn-sm btn-outline-secondary vacancy-info-btn' data-id='${v.id}' data-source='${v.source}'>Info</button>
                      </td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            </div>
            ${renderPagination(page, totalPages, (p) => renderVacanciesTable(p, perPage, search, channel))}
          `;
          setTimeout(() => {
            const channelSelect = document.getElementById('vacancyChannelSelect');
            if (channelSelect && !channelSelect._handler) {
              channelSelect._handler = true;
              channelSelect.addEventListener('change', function() {
                renderVacanciesTable(1, perPage, document.getElementById('vacancySearchInput')?.value || '', this.value);
              });
            }
            const searchInput = document.getElementById('vacancySearchInput');
            if (searchInput && !searchInput._debounced) {
              let debounceTimer;
              searchInput.addEventListener('input', function() {
                clearTimeout(debounceTimer);
                const val = this.value;
                const channelVal = document.getElementById('vacancyChannelSelect')?.value || '';
                debounceTimer = setTimeout(() => {
                  renderVacanciesTable(1, perPage, val, channelVal);
                  setTimeout(() => {
                    const newInput = document.getElementById('vacancySearchInput');
                    if (newInput) {
                      newInput.focus();
                      newInput.setSelectionRange(val.length, val.length);
                    }
                  }, 0);
                }, 200);
              });
              searchInput._debounced = true;
            }
          }, 0);
        }
        // ... existing code ...

        // === –î–ê–ù–ù–´–ï –î–õ–Ø –í–ù–ï–®–ù–ò–• –í–ê–ö–ê–ù–°–ò–ô ===
        const externalVacanciesData = [
          { id: 'hh-118673207', source: 'hh', title: '–ú–∞—Å—Ç–µ—Ä –º–∞—Å—Å–∞–∂–∞ –≤ —Å—Ç—É–¥–∏—é', location: '–¢–∞—à–∫–µ–Ω—Ç', company: 'Massage Studio', salary_from: 5000000, salary_to: 8000000, currency: 'UZS', added_at: '2024-06-10T12:15:00' },
          { id: 'hh-118041633', source: 'hh', title: '–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤', location: '–Ø—Ä–æ—Å–ª–∞–≤–ª—å', company: 'Project Management Co', salary_from: 130000, salary_to: null, currency: 'RUB', added_at: '2024-06-10T13:20:00' },
          { id: 'hh-118041634', source: 'hh', title: 'Frontend Developer', location: '–ú–æ—Å–∫–≤–∞', company: 'Tech Solutions', salary_from: 200000, salary_to: 300000, currency: 'RUB', added_at: '2024-06-10T14:30:00' },
          { id: 'hh-118041635', source: 'hh', title: 'Backend Developer', location: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', company: 'Digital Systems', salary_from: 250000, salary_to: 350000, currency: 'RUB', added_at: '2024-06-10T15:45:00' }
        ];
    </script>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –≤ DOM) -->
    <div class="modal fade" id="addVacancyModal" tabindex="-1" aria-labelledby="addVacancyModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content p-2">
          <div class="modal-header border-0 pb-0">
            <h5 class="modal-title fw-semibold" id="addVacancyModalLabel">–î–æ–±–∞–≤–∏—Ç—å –≤–Ω–µ—à–Ω—é—é –≤–∞–∫–∞–Ω—Å–∏—é</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
          </div>
          <div class="modal-body pt-2">
            <div class="mb-3 d-flex justify-content-center gap-3 flex-wrap">
              <button type="button" class="btn btn-outline-primary btn-sm" id="addVacancyTextBtn">–í–≤–µ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é</button>
              <button type="button" class="btn btn-outline-secondary btn-sm" id="addVacancyFileBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª (PDF/DOCX/TXT)</button>
              <button type="button" class="btn btn-outline-info btn-sm" id="addVacancyLinkBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ</button>
              <button type="button" class="btn btn-outline-success btn-sm" id="addVacancyTableBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã</button>
            </div>
            <form id="addVacancyFormText" style="display:block;">
              <div class="mb-3">
                <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (—Ç–µ–∫—Å—Ç–æ–º)</label>
                <textarea class="form-control" rows="3" name="description"></textarea>
              </div>
              <button type="submit" class="btn btn-primary w-100">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
            <form id="addVacancyFormFile" style="display:none;">
              <div class="mb-3">
                <label class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª (PDF, DOCX, TXT)</label>
                <input type="file" class="form-control" name="file" accept=".pdf,.doc,.docx,.txt" />
              </div>
              <button type="submit" class="btn btn-primary w-100">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
            <form id="addVacancyFormLink" style="display:none;">
              <div class="mb-3">
                <label class="form-label">–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é (–∏–Ω—Ç–µ—Ä–Ω–µ—Ç)</label>
                <input type="url" class="form-control" name="link" placeholder="https://..." />
              </div>
              <button type="submit" class="btn btn-primary w-100">–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ</button>
            </form>
            <form id="addVacancyFormTable" style="display:none;">
              <div class="mb-3">
                <label class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤–∞–∫–∞–Ω—Å–∏–π (Excel, CSV)</label>
                <input type="file" class="form-control" name="tablefile" accept=".csv,.xlsx,.xls" />
              </div>
              <button type="submit" class="btn btn-success w-100">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É</button>
            </form>
          </div>
        </div>
      </div>
    </div>
</body>
</html>